[{"title":"ä½¿ç”¨Autoprefixerå®ç°CSSæµè§ˆå™¨å‰ç¼€è‡ªåŠ¨åŒ–","path":"/2024/11/04/ä½¿ç”¨Autoprefixerå®ç°CSSæµè§ˆå™¨å‰ç¼€è‡ªåŠ¨åŒ– /","content":"æ¯æ¬¡å†™csséƒ½éœ€è¦æ‰‹åŠ¨åŠ å‰ç¼€ï¼Œçƒ¦çš„ä¸å¾—äº†ã€‚è€ŒAutoprefixerä½œä¸ºPostCSSç”Ÿæ€æ ¸å¿ƒæ’ä»¶ï¼Œèƒ½è‡ªåŠ¨ä¸ºCSSå±æ€§æ·»åŠ æµè§ˆå™¨å‚å•†å‰ç¼€ï¼ˆå¦‚-webkit-ã€-moz-ï¼‰ã€‚æ­£å¥½èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ 1. å®‰è£…ä¾èµ–é€šè¿‡npmå®‰è£…æ ¸å¿ƒç»„ä»¶ï¼š 1npm install postcss-loader autoprefixer postcss --save-dev 2.åœ¨webpackä¸­æ·»åŠ é…ç½®12345678910111213141516171819202122// webpack.config.jsmodule.exports = &#123; module: &#123; rules: [ &#123; test: /\\.css$/, use: [ &#x27;style-loader&#x27;, &#x27;css-loader&#x27;, &#123; loader: &#x27;postcss-loader&#x27;, options: &#123; postcssOptions: &#123; plugins: [require(&#x27;autoprefixer&#x27;)] &#125; &#125; &#125; ] &#125; ] &#125;&#125;; 3.å®šä¹‰ç›®æ ‡æµè§ˆå™¨åœ¨package.jsonä¸­é…ç½®ï¼š 123456&quot;browserslist&quot;: [ &quot;&gt; 1%&quot;, &quot;last 2 Chrome versions&quot;, &quot;not IE 11&quot;] æœ€ç»ˆç»“æœ1234.box &#123; transform: scale(0.5); user-select: none;&#125; ä¼šè‡ªåŠ¨ç¼–è¯‘æˆ 1234567.box &#123; -webkit-transform: scale(0.5); transform: scale(0.5); -webkit-user-select: none; -moz-user-select: none; user-select: none;&#125; æ„Ÿè°¢è§‚çœ‹ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©å¯ä»¥å…³æ³¨æœ¬ç«™ï¼Œé¾™å°äº¦åœ¨æ­¤è°¢è¿‡äº†","tags":["css","js","html"],"categories":["CSS"]},{"title":"è§£å†³ä¸åŒæµè§ˆå™¨æ»šåŠ¨æ¡æ ·å¼çš„æœ€ç»ˆæ–¹æ¡ˆ-æ‰‹å†™æ»šåŠ¨æ¡","path":"/2024/05/04/è§£å†³ä¸åŒæµè§ˆå™¨æ»šåŠ¨æ¡æ ·å¼çš„æœ€ç»ˆæ–¹æ¡ˆ-æ‰‹å†™æ»šåŠ¨æ¡/","content":"å‰ç«¯ç»å¸¸é‡åˆ°å„ç§æµè§ˆå™¨çš„å…¼å®¹é—®é¢˜ï¼Œæ— è®ºæ˜¯æµè§ˆå™¨apiå±‚é¢çš„è¿˜æ˜¯æ ·å¼å±‚é¢çš„ï¼Œéƒ½éå¸¸è®©äººå¤´ç—›ã€‚å°¤å…¶æ˜¯å½“äº§å“æå‡ºâ€œä¸ºä»€ä¹ˆæ»šåŠ¨æ¡åœ¨å„ä¸ªæµè§ˆå™¨ä¸Šé¢çš„æ ·å¼ä¸ä¸€æ ·ï¼Œèƒ½ä¸èƒ½ç»Ÿä¸€ä¸‹â€æ—¶ï¼Œæˆ‘å½»åº•æ‚Ÿäº†ï¼Œä¸å…¶æ— ä¼‘æ­¢çš„è°ƒå„ä¸ªæµè§ˆå™¨æ»šåŠ¨æ¡çš„æ ·å¼é—®é¢˜ï¼Œä¸ºä»€ä¹ˆæˆ‘ä¸è‡ªå·±å†™ä¸€ä¸ªæ»šåŠ¨æ¡å‘¢ï¼Œäºæ˜¯è¿™ç¯‡æ–‡ç« å°±å‡ºæ¥äº†ã€‚ æ‰‹å†™æ»šåŠ¨æ¡æ ·å¼æ»šåŠ¨æ¡æ ·å¼å…¶å®å¾ˆç®€å•ï¼Œä¸è¿‡åœ¨å†™æ»šåŠ¨æ¡æ ·å¼çš„æ—¶å€™æˆ‘ä»¬éœ€è¦å°†æµè§ˆå™¨è‡ªå¸¦çš„æ»šåŠ¨æ¡éšè—æ‰ ./style.css1234567891011*&#123; /* éšè—æ»šåŠ¨æ¡ */ &lt;!-- ç«ç‹ --&gt; scrollbar-width: none; &lt;!-- E ä¸å¾®è½¯æµè§ˆå™¨ --&gt; -ms-overflow-style: none;&#125;&lt;!-- chrome --&gt;*::-webkit-scrollbar &#123; display: none;&#125; æ»šåŠ¨æ¡æ ·å¼(è¿™é‡Œæˆ‘æ˜¯ç”¨divæ¥æ¨¡æ‹Ÿæ»šåŠ¨æ¡çš„) ./xxx.vue12345678910111213&lt;template&gt; &lt;!-- æ»šåŠ¨å®¹å™¨ --&gt; &lt;div class=&quot;scroll_container&quot; @scroll=&quot;onScroll&quot; :style=&quot;&#123; transform: `translate(0px, $&#123;scrollBarTop&#125;px)` &#125;&quot;&gt; &lt;!-- æ»šåŠ¨å®¹å™¨å†…å®¹åŒºåŸŸ --&gt; &lt;div class=&quot;scroll_view&quot;&gt; // æ»šåŠ¨åŒºåŸŸçš„å†…å®¹ &lt;/div&gt; &lt;!-- æ»šåŠ¨æ¡ --&gt; &lt;div class=&quot;scroll_bar&quot;&gt;&lt;/div&gt; &lt;/div&gt;&lt;/template&gt; ./xxx.css123456789101112.scroll_bar &#123; display: block; position: absolute; top: 0; z-index: 999; width: 6px; right: 0; border-radius: 3px; background-color: rgba(0, 0, 0, 0.3); transition: opacity 0.1s ease-in-out; hieght: 120px;&#125; è¿™æ ·ä¸€ä¸ªæ»šåŠ¨æ¡çš„æ ·å¼å°±å‡ºç°åœ¨æˆ‘ä»¬å±å¹•çš„å³è¾¹äº† å®ç°æ»šåŠ¨æ¡æ»šåŠ¨å› ä¸ºæˆ‘ç”¨çš„æ˜¯vue3ï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†éƒ½æ˜¯æŒ‰ç…§vue3çš„æ–¹å¼æ¥å†™ã€‚ å®ç°æ€è·¯æ€ä¹ˆè®©å±å¹•æ»‘åŠ¨åˆ°æœ€ä½ç«¯æ—¶æ»šåŠ¨æ¡ä¹Ÿä¸€èµ·æ»‘åŠ¨åˆ°æœ€ä½ç«¯ï¼Œè¿™é‡Œæˆ‘è¯´ä¸€ä¸‹å¤§æ¦‚çš„æ€è·¯ã€‚æˆ‘è¿™é‡Œæ˜¯ç”¨çš„æ˜¯ css ä¸­çš„ transform æ¥å®ç°çš„ã€‚é¦–å…ˆæˆ‘ä»¬å¾—å…ˆçŸ¥é“æ»šåŠ¨å®¹å™¨å¯ä»¥æ»šåŠ¨å¤šè¿œ(æ»šåŠ¨æœ€å¤§è·ç¦»)ï¼Œè¿™ç‚¹æˆ‘ä»¬å¯ä»¥é€šè¿‡æ»šåŠ¨å®¹å™¨å†…å®¹åŒºåŸŸçš„é«˜åº¦å‡å»æ»šåŠ¨å®¹å™¨æœ¬èº«çš„é«˜åº¦ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯å½“æ»šåŠ¨å®¹å™¨ä¸­çš„å†…å®¹ä¸å¯æ»šåŠ¨æ—¶çš„æƒ…å†µ(æ»šåŠ¨å®¹å™¨å†…å®¹åŒºåŸŸçš„é«˜åº¦å°äºæ»šåŠ¨å®¹å™¨æœ¬èº«çš„é«˜åº¦)å¾—åˆ°äº†æ»šåŠ¨æœ€å¤§è·ç¦»ä¹‹åå°±å¯ä»¥è®¡ç®—æ»šåŠ¨æ¡åº”è¯¥ä½ç§»çš„è·ç¦»äº†ï¼Œæˆ‘ä»¬é€šè¿‡ç›‘å¬scrolläº‹ä»¶å¾—åˆ°å½“å‰æ»šåŠ¨çš„è·ç¦»ï¼Œç”¨å½“å‰æ»šåŠ¨è·ç¦»/æœ€å¤§æ»šåŠ¨è·ç¦»å¯ä»¥å¾—åˆ°å½“å‰æ»šåŠ¨è·ç¦»çš„ç™¾åˆ†æ¯”ï¼Œç„¶åç”¨è¿™ä¸ªç™¾åˆ†æ¯”*(æ»šåŠ¨å®¹å™¨å†…å®¹åŒºåŸŸçš„é«˜åº¦ - æ»šåŠ¨æ¡æœ¬èº«çš„é«˜åº¦)å°±å¾—åˆ°äº†æ»šåŠ¨æ¡åº”è¯¥æ»šåŠ¨çš„è·ç¦»äº†ã€‚å¤§è‡´æ€è·¯å°±æ˜¯è¿™æ ·çš„ï¼Œå¬èµ·æ¥å¾ˆå•°å—¦ï¼Œç›´æ¥çœ‹ä»£ç å§ï¼ ./xxx.vue12345678910111213141516171819// jséƒ¨åˆ†// æ»šåŠ¨å®¹å™¨const scrollREF = ref&lt;HTMLDivElement&gt;();// æ»šåŠ¨å®¹å™¨å†…å®¹åŒºåŸŸconst scrollContentREF = ref&lt;HTMLDivElement&gt;();// æ»šåŠ¨æ¡åº”è¯¥æ»šåŠ¨çš„è·ç¦»const scrollBarTop = ref(0);const onScroll = () =&gt; &#123; if (scrollREF.value &amp;&amp; scrollContentREF.value) &#123; // å…ˆè®¡ç®—å¯ä»¥æ»‘åŠ¨å¤šè¿œ const scrollRange = scrollContentREF.value.clientHeight &gt; scrollREF.value.clientHeight ? scrollContentREF.value.clientHeight - scrollREF.value.clientHeight : 0; scrollRange &gt; 0 &amp;&amp; (scrollBarTop.value = (scrollREF.value.scrollTop / scrollRange) * (scrollContentREF.value.clientHeight - scrollHeight.value)); &#125;&#125;; å…¶å®åˆ°è¿™é‡Œæ»šåŠ¨æ¡åŸºæœ¬åŠŸèƒ½å°±å·²ç»å®ç°äº†ï¼Œè¿˜æœ‰ç»†èŠ‚å¯ä»¥ä¼˜åŒ– ç»†èŠ‚ä¼˜åŒ–æ»šåŠ¨æ¡é«˜åº¦é—®é¢˜å­˜åœ¨çš„é—®é¢˜å…¶å®ä¸Šé¢å·²ç»å±äºä¸€ä¸ªå‹‰å¼ºèƒ½ç”¨çš„çŠ¶æ€ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå¾ˆè‡´å‘½çš„é—®é¢˜â€“æ»šåŠ¨æ¡çš„é«˜åº¦æ˜¯å›ºå®šçš„ã€‚æµè§ˆå™¨è‡ªå¸¦çš„æ»šåŠ¨æ¡ä¼šæ ¹æ®æ»šåŠ¨å†…å®¹åŒºåŸŸçš„é«˜åº¦è¿›è¡Œå˜åŒ–(å†…å®¹å¤šæ—¶: æ»šåŠ¨æ¡å˜çŸ®, å†…å®¹å°‘æ—¶ï¼Œæ»šåŠ¨æ¡å˜é«˜)ï¼Œé‚£æ ·æ›´ç¬¦åˆäººç±»çš„ç›´è§‰ã€‚æ»šåŠ¨æ¡å›ºå®šè¿˜æœ‰ä¸€ä¸ªç ´åä½“éªŒæ„Ÿçš„å°±æ˜¯â€“å½“å†…å®¹æ¯”è¾ƒå°‘æ—¶æ»šåŠ¨æ¡åˆå¤ªçŸ®äº†ï¼Œæ»šåŠ¨æ¡çš„æ»šåŠ¨é€Ÿåº¦å°±ä¼šå¤ªå¿«ï¼›å½“å†…å®¹æ¯”è¾ƒå¤šæ—¶æ»šåŠ¨æ¡åˆæ¯”è¾ƒé«˜æ—¶ï¼Œå¾ˆå¯Ÿè§‰æ»šåŠ¨æ¡çš„æ»šåŠ¨ã€‚ å®ç°æ€è·¯å…¶å®æœ‰å¾ˆå¤šè§£å†³æ–¹æ³•ï¼Œåªè¦æ˜¯å¤§æ¦‚ç¬¦åˆåæ¯”ä¾‹å‡½æ•°çš„æ¨¡å‹çš„å…¶å®éƒ½æ˜¯å¯ä»¥çš„(å½“æ»‘åŠ¨åŒºåŸŸè¶Šå°æ—¶ï¼Œæ»šåŠ¨æ¡é«˜åº¦è¶Šé«˜ï¼›å½“æ»‘åŠ¨åŒºåŸŸè¶Šå¤§æ—¶ï¼Œæ»šåŠ¨æ¡é«˜åº¦è¶Šä½)ã€‚æˆ‘çš„è§£å†³æ–¹æ³•æ˜¯æ»šåŠ¨å®¹å™¨é«˜åº¦/æ»šåŠ¨å†…å®¹åŒºåŸŸé«˜åº¦*æ»šåŠ¨å®¹å™¨é«˜åº¦ ./xxx.vue1234567891011// æ»šåŠ¨æ¡åº”è¯¥æ»šåŠ¨çš„è·ç¦»const scrollHeight = ref(0);if (scrollContentREF.value &amp;&amp; scrollREF.value) &#123; // æˆ‘è¿™é‡Œè¿›è¡Œäº†å–æ•´ï¼Œå› ä¸ºåé¢éœ€è¦å‡å»æ»šåŠ¨æ¡çš„é«˜åº¦ï¼Œå°½é‡é¿å…é«˜åº¦å‡ºç°å°æ•° // å…³äºè¿™é‡Œéœ€ä¸éœ€è¦å¤„ç† (æ»šåŠ¨å®¹å™¨é«˜åº¦/æ»šåŠ¨å†…å®¹åŒºåŸŸé«˜åº¦ ) &gt; 1 çš„æƒ…å†µï¼Œ // æˆ‘è®¤ä¸ºä¸éœ€è¦ï¼Œå› ä¸ºå¤§äº1æ—¶å°±è¯æ˜æ»šåŠ¨å®¹å™¨å†…å®¹åŒºåŸŸæ— æ³•æ»šåŠ¨ï¼Œæ— æ³•æ»šåŠ¨è‡ªç„¶å°±æ— æ³•è§¦å‘scrollå›è°ƒ scrollHeight.value = Math.trunc( (scrollREF.value.clientHeight / scrollContentREF.value.clientHeight) * scrollREF.value.clientHeight ); &#125; æ¨¡æ¿ä»£ç ä¸­éœ€è¦å°†scrollHeightåŠ è¿›å» å¦‚æœä½ çš„æ»šåŠ¨åŒºåŸŸæ˜¯é™æ€æ•°æ®(é¡µé¢åŠ è½½æˆåŠŸæ»šåŠ¨åŒºåŸŸçš„æ•°æ®å°±ä¸ä¼šå˜åŒ–)å¯ä»¥ç›´æ¥å°†é¢çš„é‚£æ®µä»£ç å†™å…¥ç”Ÿå‘½å‘¨æœŸä¸­(onMounted)ã€‚ å¦‚æœä½ æ»šåŠ¨åŒºåŸŸæ˜¯åŠ¨æ€å˜åŒ–çš„æ•°æ®(å¯ä»¥æ»šåŠ¨æ–°å¢å†…å®¹çš„é‚£ç§)ä½ å¯ä»¥å°†ä¸Šé¢çš„ä»£ç å°è£…æˆä¸€ä¸ªå‡½æ•°ï¼Œåœ¨æ¯æ¬¡æ–°æ•°æ®åŠ è½½å¥½äº†ä¹‹åè°ƒç”¨ä¸€æ¬¡ã€‚ å…¶ä»–å¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ æ»šåŠ¨æ¡åœ¨éæ»šåŠ¨æ—¶ä¸å¯è§ ./xxx.vue123456789101112131415161718192021222324252627282930313233// æˆ‘è¿™é‡Œæ˜¯é€šè¿‡é€æ˜åº¦å®ç°const scrollOpacity = ref(0);let scrollDisplayTimer: Timer = null;// jséƒ¨åˆ†// æ»šåŠ¨å®¹å™¨const scrollREF = ref&lt;HTMLDivElement&gt;();// æ»šåŠ¨å®¹å™¨å†…å®¹åŒºåŸŸconst scrollContentREF = ref&lt;HTMLDivElement&gt;();// æ»šåŠ¨æ¡åº”è¯¥æ»šåŠ¨çš„è·ç¦»const scrollBarTop = ref(0);const scrollOpacity = ref(0);const onScroll = () =&gt; &#123; if (scrollREF.value &amp;&amp; scrollContentREF.value) &#123; // å…ˆè®¡ç®—å¯ä»¥æ»‘åŠ¨å¤šè¿œ const scrollRange = scrollContentREF.value.clientHeight &gt; scrollREF.value.clientHeight ? scrollContentREF.value.clientHeight - scrollREF.value.clientHeight : 0; scrollRange &gt; 0 &amp;&amp; (scrollBarTop.value = (scrollREF.value.scrollTop / scrollRange) * (scrollContentREF.value.clientHeight - scrollHeight.value)); // &lt;!-- æ§åˆ¶æ»šåŠ¨æ¡æ˜¯å¦æ˜¾ç¤º start --&gt; scrollOpacity.value = 1; if (scrollDisplayTimer) &#123; clearTimeout(scrollDisplayTimer); &#125; scrollDisplayTimer = setTimeout(() =&gt; &#123; scrollOpacity.value = 0; &#125;, 1500); // &lt;!-- æ§åˆ¶æ»šåŠ¨æ¡æ˜¯å¦æ˜¾ç¤º end --&gt; &#125;&#125;; æ¨¡æ¿ä»£ç ä¸­éœ€è¦å°†scrollOpacityåŠ è¿›å» æœ€ç»ˆä»£ç  æ¨¡æ¿éƒ¨åˆ† ./xxx.vue1234567891011121314151617&lt;template&gt; &lt;!-- æ»šåŠ¨å®¹å™¨ --&gt; &lt;div class=&quot;scroll_container&quot; @scroll=&quot;onScroll&quot; :style=&quot;&#123; transform: `translate(0px, $&#123;scrollBarTop&#125;px)`, height: `$&#123;scrollHeight&#125;px`, opacity: scrollOpacity, &#125;&quot;&gt; &lt;!-- æ»šåŠ¨å®¹å™¨å†…å®¹åŒºåŸŸ --&gt; &lt;div class=&quot;scroll_view&quot;&gt; // æ»šåŠ¨åŒºåŸŸçš„å†…å®¹ &lt;/div&gt; &lt;!-- æ»šåŠ¨æ¡ --&gt; &lt;div class=&quot;scroll_bar&quot;&gt;&lt;/div&gt; &lt;/div&gt;&lt;/template&gt; jséƒ¨åˆ† ./xxx.vue12345678910111213141516171819202122232425262728293031323334353637383940414243444546// æ»šåŠ¨å®¹å™¨const scrollREF = ref&lt;HTMLDivElement&gt;();// æ»šåŠ¨å®¹å™¨å†…å®¹åŒºåŸŸconst scrollContentREF = ref&lt;HTMLDivElement&gt;();// æ»šåŠ¨æ¡åº”è¯¥æ»šåŠ¨çš„è·ç¦»const scrollBarTop = ref(0);// æ»šåŠ¨æ¡é€æ˜åº¦const scrollOpacity = ref(0);// æ»šåŠ¨æ¡é«˜åº¦const scrollHeight = ref(0);// è®¡ç®—æ»šåŠ¨æ¡é«˜åº¦const countscrollHeight = () =&gt; &#123; if (scrollContentREF.value &amp;&amp; scrollREF.value) &#123; // æˆ‘è¿™é‡Œè¿›è¡Œäº†å–æ•´ï¼Œå› ä¸ºåé¢éœ€è¦å‡å»æ»šåŠ¨æ¡çš„é«˜åº¦ï¼Œå°½é‡é¿å…é«˜åº¦å‡ºç°å°æ•° scrollHeight.value = Math.trunc( (scrollREF.value.clientHeight / scrollContentREF.value.clientHeight) * scrollREF.value.clientHeight ); &#125;&#125;//æ»‘åŠ¨ç›‘å¬äº‹ä»¶const onScroll = () =&gt; &#123; if (scrollREF.value &amp;&amp; scrollContentREF.value) &#123; // å…ˆè®¡ç®—å¯ä»¥æ»‘åŠ¨å¤šè¿œ const scrollRange = scrollContentREF.value.clientHeight &gt; scrollREF.value.clientHeight ? scrollContentREF.value.clientHeight - scrollREF.value.clientHeight : 0; scrollRange &gt; 0 &amp;&amp; (scrollBarTop.value = (scrollREF.value.scrollTop / scrollRange) * (scrollContentREF.value.clientHeight - scrollHeight.value)); // &lt;!-- æ§åˆ¶æ»šåŠ¨æ¡æ˜¯å¦æ˜¾ç¤º start --&gt; scrollOpacity.value = 1; if (scrollDisplayTimer) &#123; clearTimeout(scrollDisplayTimer); &#125; scrollDisplayTimer = setTimeout(() =&gt; &#123; scrollOpacity.value = 0; &#125;, 1500); // &lt;!-- æ§åˆ¶æ»šåŠ¨æ¡æ˜¯å¦æ˜¾ç¤º end --&gt; &#125;&#125;;onMounted(() =&gt; &#123; countscrollHeight();&#125;); csséƒ¨åˆ† ./xxx.css12345678910111213141516171819202122*&#123; /* éšè—æ»šåŠ¨æ¡ */ &lt;!-- ç«ç‹ --&gt; scrollbar-width: none; &lt;!-- E ä¸å¾®è½¯æµè§ˆå™¨ --&gt; -ms-overflow-style: none;&#125;&lt;!-- chrome --&gt;*::-webkit-scrollbar &#123; display: none;&#125;.scroll_bar &#123; display: block; position: absolute; top: 0; z-index: 999; width: 6px; right: 0; border-radius: 3px; background-color: rgba(0, 0, 0, 0.3); transition: opacity 0.1s ease-in-out;&#125; æ„Ÿè°¢è§‚çœ‹ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©å¯ä»¥å…³æ³¨æœ¬ç«™ï¼Œé¾™å°äº¦åœ¨æ­¤è°¢è¿‡äº†","tags":["css","js","vue","html"],"categories":["vue"]},{"title":"hexo Stellarä¸»é¢˜é€šè¿‡Verceléƒ¨ç½²waline","path":"/2024/04/28/hexo-Stellarä¸»é¢˜é€šè¿‡Verceléƒ¨ç½²waline/","content":"ä¸€ç›´æƒ³ç»™è‡ªå·±çš„åšå®¢æ·»åŠ è¯„è®ºç³»ç»Ÿï¼Œæ‹–åˆ°äº†ç°åœ¨ç»ˆäºåŠ ä¸Šäº†ã€‚æœ¬æ–‡æ˜¯å‚»ç“œå¼æ•™ç¨‹ï¼Œå¦‚æœå«Œéº»çƒ¦å¯ä»¥ç›´æ¥å‚è€ƒXAOXUUçš„ï¼Œåœ°å€åœ¨ä¸‹æ–¹ã€‚æœ¬æ–‡ä½¿ç”¨çš„æ˜¯walineè¯„è®ºæ’ä»¶ï¼Œé€šè¿‡Verceléƒ¨ç½²ã€‚ https://xaoxuu.com/wiki/stellar/comments/#Walinehttps://xaoxuu.com/wiki/stellar/comments/#Waline LeanCloud(æ•°æ®åº“)æ³¨å†Œ ç™»å½• æˆ– æ³¨å†Œ LeanCloud å›½é™…ç‰ˆ å¹¶è¿›å…¥ æ§åˆ¶å° åœ¨LeanCloudä¸­ åˆ›å»ºåº”ç”¨(é€‰æ‹©å…è´¹å¼€å‘ç‰ˆå³å¯) è¿›å…¥åº”ç”¨ï¼Œé€‰æ‹©å·¦ä¸‹è§’çš„ è®¾ç½® &gt; åº”ç”¨ Keyã€‚ä½ å¯ä»¥çœ‹åˆ°ä½ çš„ APP ID,APP Key å’Œ Master Keyã€‚è¯·è®°å½•å®ƒä»¬ï¼Œä»¥ä¾¿åç»­ä½¿ç”¨ã€‚ Vercel éƒ¨ç½² ç™»å½• æˆ– æ³¨å†Œ Vercelï¼Œå¹¶ç»‘å®šè‡ªå·±çš„githubè´¦å·ã€‚ è¾“å…¥ä¸€ä¸ªä½ å–œæ¬¢çš„ Vercel é¡¹ç›®åç§°å¹¶ç‚¹å‡» Create ç»§ç»­: æ­¤æ—¶ Vercel ä¼šåŸºäº Waline æ¨¡æ¿å¸®åŠ©ä½ æ–°å»ºå¹¶åˆå§‹åŒ–ä»“åº“ï¼Œä»“åº“åä¸ºä½ ä¹‹å‰è¾“å…¥çš„é¡¹ç›®åã€‚(å¯¹åº”çš„githubä¸Šä¹Ÿä¼šæœ‰è¿™ä¸ªä»“åº“-ç§å¯†ä»“åº“) ä¸€ä¸¤åˆ†é’Ÿåï¼Œæ»¡å±çš„çƒŸèŠ±ä¼šåº†ç¥ä½ éƒ¨ç½²æˆåŠŸã€‚æ­¤æ—¶ç‚¹å‡» Go to Dashboard å¯ä»¥è·³è½¬åˆ°åº”ç”¨çš„æ§åˆ¶å°ã€‚ ç‚¹å‡»é¡¶éƒ¨çš„ Settings - Environment Variables è¿›å…¥ç¯å¢ƒå˜é‡é…ç½®é¡µï¼Œå¹¶é…ç½®ä¸‰ä¸ªç¯å¢ƒå˜é‡ LEAN_ID, LEAN_KEY å’Œ LEAN_MASTER_KEY ã€‚å®ƒä»¬çš„å€¼åˆ†åˆ«å¯¹åº”ä¸Šä¸€æ­¥åœ¨ LeanCloud ä¸­è·å¾—çš„ APP ID, APP KEY, Master Keyã€‚ ç¯å¢ƒå˜é‡é…ç½®å®Œæˆä¹‹åç‚¹å‡»é¡¶éƒ¨çš„ Deployments ç‚¹å‡»é¡¶éƒ¨æœ€æ–°çš„ä¸€æ¬¡éƒ¨ç½²å³ä¾§çš„ Redeploy æŒ‰é’®è¿›è¡Œé‡æ–°éƒ¨ç½²ã€‚è¯¥æ­¥éª¤æ˜¯ä¸ºäº†è®©åˆšæ‰è®¾ç½®çš„ç¯å¢ƒå˜é‡ç”Ÿæ•ˆã€‚ æ­¤æ—¶ä¼šè·³è½¬åˆ° Overview ç•Œé¢å¼€å§‹éƒ¨ç½²ï¼Œç­‰å¾…ç‰‡åˆ»å STATUS ä¼šå˜æˆ Readyã€‚æ­¤æ—¶è¯·ç‚¹å‡» Visit ï¼Œå³å¯è·³è½¬åˆ°éƒ¨ç½²å¥½çš„ç½‘ç«™åœ°å€ï¼Œæ­¤åœ°å€å³ä¸ºä½ çš„æœåŠ¡ç«¯åœ°å€ã€‚ åŸŸå åŸŸåç»‘å®š(å¯é€‰)ï¼Œå°±ç®—ä¸ç»‘å®š Vercel ä¹Ÿä¼šåˆ†é…ä¸€ä¸ªåŸŸåã€‚ æŸ¥çœ‹é»˜è®¤åŸŸååŸŸåç»‘å®š è¿›å…¥Vercel App ç®¡ç† è¿›å…¥å¯¹åº”Appç®¡ç†é¡µé¢ã€‚ Appä¿¡æ¯å¡ç‰‡æœ‰ä¸ªDeploymentä¿¡æ¯ï¼Œè¿™å°±æ˜¯åˆ†é…çš„åŸŸåã€‚ åœ¨åŸŸåæœåŠ¡å™¨å•†å¤„æ·»åŠ æ–°çš„ CNAME è§£æè®°å½• Type Name Value CNAME example cname.vercel-dns.com åœ¨App ç®¡ç†é¡µé¢ç‚¹å‡»é¡¶éƒ¨çš„ Settings - Domains è¿›å…¥åŸŸåé…ç½®é¡µã€‚ è¾“å…¥éœ€è¦ç»‘å®šçš„åŸŸåå¹¶ç‚¹å‡» Addã€‚ 4. ç­‰å¾…ç”Ÿæ•ˆï¼Œä½ å¯ä»¥é€šè¿‡è‡ªå·±çš„åŸŸåæ¥è®¿é—®äº†ğŸ‰ è¯„è®ºç®¡ç†é¡µé¢ å¦‚æœæ˜¯ç»‘å®šäº†è‡ªå·±çš„åŸŸåè¯„è®ºç³»ç»Ÿï¼šåŸŸåè¯„è®ºç®¡ç†ï¼šåŸŸå&#x2F;ui å¦‚æœæ²¡ç»‘å®šè‡ªå·±çš„åŸŸåè¯„è®ºç³»ç»Ÿï¼šåˆ†é…çš„åŸŸåè¯„è®ºç®¡ç†ï¼šåˆ†é…çš„åŸŸå&#x2F;ui è¯„è®ºç®¡ç†å‘˜æ³¨å†Œ:è¯·è®¿é—® åŸŸå/ui/register è¿›è¡Œæ³¨å†Œã€‚é¦–ä¸ªæ³¨å†Œçš„äººä¼šè¢«è®¾å®šæˆç®¡ç†å‘˜ã€‚ stellar æ·»åŠ walineæ’ä»¶blog/_config.stellar.yml1234567891011121314151617181920212223242526comments: service: waline waline: js: https://unpkg.com/@waline/client@v2/dist/waline.js css: https://unpkg.com/@waline/client@v2/dist/waline.css # Waline server address url, you should set this to your own link serverURL: https://xxx # walineåŸŸå åœ°å€ # If false, comment count will only be displayed in post page, not in home page commentCount: true # Pageviews count, Note: You should not enable both `waline.pageview` and `leancloud_visitors`. pageview: false # Custom locales locale: placeholder: # è¾“å…¥æ¡†å†…æç¤ºæ–‡å­— # Custom emoji emoji: - https://gcore.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs # - https://unpkg.com/@waline/emojis@1.1.0/weibo # - https://unpkg.com/@waline/emojis@1.1.0/alus # - https://unpkg.com/@waline/emojis@1.1.0/bilibili # - https://unpkg.com/@waline/emojis@1.1.0/qq # - https://unpkg.com/@waline/emojis@1.1.0/tieba # - https://unpkg.com/@waline/emojis@1.1.0/tw-emoji # - https://unpkg.com/@waline/emojis@1.1.0/bmoji æ„Ÿè°¢è§‚çœ‹ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©å¯ä»¥å…³æ³¨æœ¬ç«™ï¼Œé¾™å°äº¦åœ¨æ­¤è°¢è¿‡äº†","tags":["hexo"],"categories":["hexo"]},{"title":"flutter AnimationControlleråŠ¨ç”»","path":"/2024/03/15/flutter-AnimationControlleråŠ¨ç”»/","content":"ç¢°åˆ°çš„é—®é¢˜ æœ€è¿‘åœ¨æFlutterï¼Œç¢°åˆ°äº†ä¸€ä¸ªåŠ¨ç”»éœ€æ±‚ï¼Œã€ç‚¹å‡»æŒ‰é’®ç»„ä»¶ä»å·¦è¾¹æ»‘å‡ºï¼Œå†æ¬¡ç‚¹å‡»åä»å·¦è¾¹æ¶ˆå¤±ã€‘ ä½¿ç”¨äº†SizeTransitionç»„ä»¶+AnimationControllerå®ç°åŠ¨ç”»çš„æ’­æ”¾å’Œæ§åˆ¶ åŠ¨ç”»ä»£ç 123456789101112131415// åŠ¨ç”»æ§åˆ¶å™¨AnimationController( vsync: this, duration: const Duration(milliseconds: 800), // åŠ¨ç”»æ—¶é•¿ ..repeat(); // åŠ¨ç”»å¾ªç¯)...// åŠ¨ç”»ç»„ä»¶SizeTransition( sizeFactor: _animationController, // åŠ¨ç”»æ§åˆ¶å™¨ axis: Axis.horizontal, // åŠ¨ç”»æ–¹å‘ axisAlignment: 0.0, // åŸºç¡€ä½ç§» child: const Text(&quot;åŠ¨ç”»&quot;),), å¦‚æœä¸å¸Œæœ›åŠ¨ç”»ä¸€ç›´å¾ªç¯ï¼Œåœ¨åŠ¨ç”»æ§åˆ¶å™¨ä¸€å®šä¸è¦åŠ ä¸Š..repeat() åŠ ä¸ŠæŒ‰é’®æ§åˆ¶åŠ¨ç”»æ’­æ”¾1234567891011121314151617181920212223// å®šä¹‰ä¸€ä¸ªå˜é‡è®°å½•åŠ¨ç”»ç›®å‰çš„çŠ¶æ€_animationIsPlayer = false;...// æŒ‰é’®æ§åˆ¶åŠ¨ç”»IconButton( splashColor: Colors.transparent, highlightColor: Colors.transparent, hoverColor: Colors.transparent, onPressed: () &#123; setState(() &#123; _animationIsPlayer = !_animationIsPlayer; if (_isShowPlayer) &#123; // æ’­æ”¾ from è¡¨ç¤ºèµ·ç‚¹ _animationController.forward(from: 0); &#125; else &#123; // å€’æ”¾ from è¡¨ç¤ºèµ·ç‚¹ _animationController.reverse(from: 1); &#125; &#125;); &#125;, icon: const Icon(IconFontIcons.iconRight)), å®Œæ•´ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566// ã€é‡è¦ã€‘ä½ çš„ç»„ä»¶ä¸€å®šè¦æ··å…¥ SingleTickerProviderStateMixin ç±»class MyHomePage extends StatefulWidget &#123; const MyHomePage(&#123;super.key&#125;); @override State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();&#125;class _MyHomePageState extends State&lt;MyHomePage&gt; with SingleTickerProviderStateMixin &#123; late AnimationController _animationController; _animationIsPlayer = false; @override void initState() &#123; // åˆ›å»ºåŠ¨ç”»æ§åˆ¶å™¨ _animationController = AnimationController( vsync: this, duration: const Duration(milliseconds: 800), // åŠ¨ç”»æ—¶é•¿ reverseDuration: const Duration(milliseconds: 600) // åå‘åŠ¨ç”»æ—¶é•¿ ) &#125; // é¡µé¢é”€æ¯æ—¶ @override void dispose() &#123; // é”€æ¯åŠ¨ç”»æ§åˆ¶å™¨ _animationController.dispose(); super.dispose(); &#125; @override Widget build(BuildContext context) &#123; return Row( children: [ // åŠ¨ç”» SizeTransition( sizeFactor: _animationController, // åŠ¨ç”»æ§åˆ¶å™¨ axis: Axis.horizontal, // åŠ¨ç”»æ–¹å‘ axisAlignment: 0.0, // åŸºç¡€ä½ç§» child: const Text(&quot;åŠ¨ç”»&quot;), ), // æŒ‰é’®æ§åˆ¶åŠ¨ç”» SizedBox( height: 80, width: 50, child: IconButton( splashColor: Colors.transparent, highlightColor: Colors.transparent, hoverColor: Colors.transparent, onPressed: () &#123; setState(() &#123; _animationIsPlayer = !_animationIsPlayer; if (_isShowPlayer) &#123; _animationController.forward(from: 0); &#125; else &#123; _animationController.reverse(from: 1); &#125; &#125;); &#125;, icon: const Icon(IconFontIcons.iconRight)), ) ] ), &#125;&#125; æ„Ÿè°¢è§‚çœ‹ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©å¯ä»¥å…³æ³¨æœ¬ç«™ï¼Œé¾™å°äº¦åœ¨æ­¤è°¢è¿‡äº†","tags":["flutter","ios","android"],"categories":["flutter"]},{"title":"vueæ‰¹é‡æ³¨å†Œå…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤","path":"/2024/03/11/vueæ‰¹é‡æ³¨å†Œå…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤/","content":"vue3æ‰¹é‡æ³¨å†Œè‡ªå®šä¹‰æŒ‡ä»¤ï¼ŒåˆåŒå’å•è¸©å‘äº† ä¹‹å‰åœ¨vue2ä¸­ä½¿ç”¨è¿‡æ‰¹é‡æ³¨å†ŒæŒ‡ä»¤çš„æ–¹æ³•ï¼Œä¸è¿‡vue2çš„æ¨¡å¼åœ¨Vue3ä¸­ç«Ÿç„¶è¡Œä¸é€šäº†ï¼Œæˆ‘ä¸€è„¸æ‡µé€¼çš„ç¢ç£¨äº†å¤§åŠä¸ªå°æ—¶ï¼Œæœ€åè¿˜æ˜¯ç”¨äº†ä¸€ä¸ªä¸æ˜¯å¾ˆå®Œç¾çš„æ–¹æ³• vue2ä¸­æ‰¹é‡æ³¨å†ŒæŒ‡ä»¤ åœ¨ @/utls/directives/init.js ä¸­æ”¶é›†æ‰€æœ‰æŒ‡ä»¤åˆ›å»ºå¹¶è¿›è¡Œæ³¨å†Œ 12345678910111213141516// @/utls/directives/init.jsimport directive1 from &#x27;@/utls/directives/directive1&#x27;import directive2 from &#x27;@/utls/directives/directive2&#x27;// æ„å»ºconst directives = &#123; directive1, directive2,&#125;export default &#123; install (Vue) &#123; Object.keys(directives).forEach((key) =&gt; &#123; Vue.directive(key, directives[key]) &#125;) &#125;,&#125; åœ¨ mian.js ä¸­æ³¨å…¥æŒ‡ä»¤ï¼Œå°±å¯ä»¥åœ¨Vueæ¨¡æ¿ä¸­ä½¿ç”¨æŒ‡ä»¤äº† 1234// main.jsimport Vue from &#x27;vue&#x27;import directives from &#x27;./directives/index&#x27;Vue.use(directives) å¦‚æœè¿˜æœ‰ç–‘é—®å¯ä»¥å»çœ‹è¿™ä½è€å…„çš„åšå®¢ https://blog.csdn.net/HH18700418030/article/details/128955606vue directive æ‰¹é‡æ³¨å†Œè‡ªå®šä¹‰æŒ‡ä»¤ vue3ä¸­æ‰¹é‡æ³¨å†ŒæŒ‡ä»¤ !!!è¿™ç§å†™æ³•ä¸ä¸€å®šè§„èŒƒï¼Œä½†æ˜¯èƒ½å¤Ÿè§£å†³æŒ‡ä»¤æ— æ³•æ³¨å†Œçš„é—®é¢˜ï¼Œæ­¥éª¤ä¸€æ ·ï¼Œæ–¹æ³•æœ‰ç‚¹å‡ºå…¥ @/utls/directives/ ä¸­æ’ä»¶çš„å†™æ³• 123456789// @/utls/directives/directive1export default (Vue) =&gt; &#123; Vue.directive(&quot;directive1&quot;, &#123; created(el) &#123; // é€»è¾‘ä»£ç  &#125;, ... &#125;)&#125; åœ¨ @/utls/directives/init.js ä¸­æ”¶é›†æ‰€æœ‰æŒ‡ä»¤åˆ›å»ºå¹¶è¿›è¡Œæ³¨å†Œ 1234567891011121314// @/utls/directives/init.jsimport directive1 from &#x27;@/utls/directives/directive1&#x27;import directive2 from &#x27;@/utls/directives/directive2&#x27;// æ„å»ºæŒ‡ä»¤é˜Ÿåˆ—const directives = [ directive1, directive2,]// æ³¨å†Œé˜Ÿåˆ—ä¸­æ‰€æœ‰çš„æŒ‡ä»¤const initDeretives = (app) =&gt; &#123; directives.forEach(e =&gt; e(app))&#125;export default initDeretives; main.js ä¸­æ³¨å…¥æ’ä»¶ 1234567// main.jsimport &#123; createApp &#125; from &#x27;vue&#x27;import initDeretives from &#x27;@/utils/derectives/index.js&#x27;const app = createApp(App)app.use(initDeretives)app.mount(&#x27;#app&#x27;) æ„Ÿè°¢è§‚çœ‹ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©å¯ä»¥å…³æ³¨æœ¬ç«™ï¼Œé¾™å°äº¦åœ¨æ­¤è°¢è¿‡äº†","tags":["vue","ç¬”è®°","è¸©å‘"],"categories":["vue"]},{"title":"jsä¸­çš„èŠ‚æµé˜²æŠ–","path":"/2023/11/11/jsä¸­çš„èŠ‚æµé˜²æŠ–/","content":"å…³äºé˜²æŠ– æ¦‚å¿µï¼šè§¦å‘é«˜é¢‘äº‹ä»¶ånç§’å†…å‡½æ•°åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœnç§’å†…é«˜é¢‘äº‹ä»¶å†æ¬¡è¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡ç®—æ—¶é—´ã€‚ æ€è·¯ï¼šæ¯æ¬¡è§¦å‘äº‹ä»¶çš„æ—¶å€™ï¼Œæ¸…é™¤å®šæ—¶å™¨ï¼Œç„¶åä»æ–°è®¾ç½®æ–°çš„å®šæ—¶å™¨ã€‚ å¦‚ä½•å®ç°12345678910111213141516// å®šä¹‰ä¸€ä¸ªå®šæ—¶å™¨let timer = null;let value = &quot;hello&quot;;function clickBut() &#123; let timer = null; // åˆ›å»ºä¸€ä¸ªé—­åŒ…ï¼Œä¿å­˜ä¸€ä¸ªæ ‡è®°ç”¨æ¥å­˜æ”¾å®šæ—¶å™¨çš„è¿”å›å€¼ return function () &#123; clearTimeout(timer) timer = setTimeout(() =&gt; &#123; console.log(value); &#125;, 1000); &#125;;&#125;// åªèƒ½é€šè¿‡document.getElementByIdç›‘å¬ç‚¹å‡»äº‹ä»¶ button ä¸Šç›´æ¥æŒ‚è½½ clickBut å‡½æ•°ï¼Œä¸ä¼šå›è°ƒé—­åŒ…ä¸­çš„å‡½æ•°document.getElementById(&quot;button1&quot;).addEventListener(&quot;click&quot;, clickBut);document.getElementById(&quot;button2&quot;).addEventListener(&quot;click&quot;, clickBut); å€ŸåŠ©å®šæ—¶å™¨å°±å¯ä»¥å®ç°å¤šæ¬¡ç‚¹å‡»åªä¼šå¯¹æœ€åä¸€æ¬¡ç‚¹å‡»ç”Ÿæ•ˆ å…³äºèŠ‚æµ æ¦‚å¿µï¼šé«˜é¢‘äº‹ä»¶è§¦å‘ï¼Œä½†åœ¨nç§’å†…åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥èŠ‚æµä¼šç¨€é‡Šå‡½æ•°çš„æ‰§è¡Œé¢‘ç‡ã€‚ æ€è·¯ï¼šæ¯æ­¤è§¦å‘äº‹ä»¶æ—¶åˆ¤æ–­æ˜¯å¦å®šæ—¶å™¨å·²æ»¡ï¼Œæ»¡åˆ™é‡æ–°å®šæ—¶ï¼Œå¦åˆ™ä¸åšä»»ä½•äº‹ã€‚ å¦‚ä½•å®ç°1234567891011121314151617let value = &quot;hello&quot;;// è®¾ç½®ä¸€ä¸ªå˜é‡åˆ¤æ–­ç‚¹å‡»æ˜¯å¦ç”Ÿæ•ˆfunction clickBut() &#123; let canRun = true; // é€šè¿‡é—­åŒ…ä¿å­˜ä¸€ä¸ªæ ‡è®° return function (parmas) &#123; if (!canRun) return; // åœ¨å‡½æ•°å¼€å¤´åˆ¤æ–­æ ‡è®°æ˜¯å¦ä¸ºtrueï¼Œä¸ä¸ºtrueåˆ™return canRun = false; // ç«‹å³è®¾ç½®ä¸ºfalse setTimeout(() =&gt; &#123; // å°†å¤–éƒ¨ä¼ å…¥çš„å‡½æ•°çš„æ‰§è¡Œæ”¾åœ¨setTimeoutä¸­ console.log(value, parmas); // æœ€ååœ¨setTimeoutæ‰§è¡Œå®Œæ¯•åå†æŠŠæ ‡è®°è®¾ç½®ä¸ºtrue(å…³é”®)è¡¨ç¤ºå¯ä»¥æ‰§è¡Œä¸‹ä¸€æ¬¡å¾ªç¯äº†ã€‚å½“å®šæ—¶å™¨æ²¡æœ‰æ‰§è¡Œçš„æ—¶å€™æ ‡è®°æ°¸è¿œæ˜¯falseï¼Œåœ¨å¼€å¤´è¢«returnæ‰ canRun = true; &#125;, 500); &#125;;&#125;// åªèƒ½é€šè¿‡document.getElementByIdç›‘å¬ç‚¹å‡»äº‹ä»¶ button ä¸Šç›´æ¥æŒ‚è½½ clickBut å‡½æ•°ï¼Œä¸ä¼šå›è°ƒé—­åŒ…ä¸­çš„å‡½æ•°document.getElementById(&quot;button1&quot;).addEventListener(&quot;click&quot;, clickBut(1));document.getElementById(&quot;button2&quot;).addEventListener(&quot;click&quot;, clickBut(2)); çœ‹åˆ°è¿™é‡Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»£ç å°±å¯ä»¥å‘ç°ï¼Œé˜²æŠ–å’ŒèŠ‚æµéƒ½ä¼šé˜»æ­¢ç”¨æˆ·éƒ¨åˆ†æ“ä½œã€‚åŒºåˆ«å°±æ˜¯åœ¨ä¸€å®šçš„æ—¶é—´å†…å¤šæ¬¡æ“ä½œï¼Œé˜²æŠ–åªä¼šå¯¹æœ€åä¸€æ¬¡æ“ä½œç”Ÿæ•ˆï¼Œè€ŒèŠ‚æµæ¯è¿‡ä¸€å®šæ—¶é—´éƒ½ä¼šå¯¹ç”Ÿæ•ˆä¸€æ¬¡æ“ä½œã€‚åº”ç”¨ï¼šé˜²æŠ–ï¼šä¸€èˆ¬åº”ç”¨åœ¨åªæœé›†ç”¨æˆ·æœ€åä¸€æ¬¡æ“ä½œï¼šå¦‚ç”¨æˆ·å¤šæ¬¡ç‚¹å‡»æŒ‰é’®ï¼Œå¤šæ¬¡æäº¤è¡¨å•ç­‰ã€‚èŠ‚æµï¼šä¸€èˆ¬åº”ç”¨åœ¨ç”¨æˆ·é¢‘ç¹å¤šæ¬¡æ“ä½œä¸­èµ·åˆ°é™åˆ¶è¯·æ±‚æ¬¡æ•°ï¼šå¦‚ç”¨æˆ·é¢‘ç¹åˆ·æ–°åˆ—è¡¨ç­‰ã€‚ æ€ä¹ˆé€šè¿‡vueå…¨å±€æŒ‡ä»¤å®Œæˆé˜²æŠ–å’ŒèŠ‚æµåœ¨vueä¸­æœ‰å¾ˆå¤šåœ°æ–¹éƒ½ä¼šç”¨åˆ°é˜²æŠ–å’ŒèŠ‚æµï¼Œé˜²æŠ–å’ŒèŠ‚æµçš„å®ç°å¾ˆè§åˆ°ã€‚ä½†å¦‚æœåœ¨æ¯ä¸ªç”¨åˆ°çš„åœ°æ–¹éƒ½å»å†™è¿™å†™æ–¹æ³•ï¼Œé‚£æ— ç–‘æ˜¯ä¸æ˜æ™ºçš„è¡Œä¸º vue3ä¸­çš„å†™æ³•é˜²æŠ–åœ¨utils/derectives/debounce.js æ³¨å†Œæ’ä»¶ 123456789101112131415161718192021222324252627// æ³¨å†Œæ’ä»¶export default (Vue) =&gt; &#123; Vue.directive(&quot;debounce&quot;, &#123; created(el, fn) &#123; // ç›‘å¬ç‚¹å‡»äº‹ä»¶ï¼Œå›è°ƒå‡½æ•°å¿…é¡»æ·»åŠ  () =&gt; ;ä¸ç„¶ä¼šç«‹å³æ‰§è¡Œ el.addEventListener(&#x27;click&#x27;, () =&gt; clickHandler(fn)) &#125;, unmounted(el) &#123; // ç»„ä»¶å¸è½½æ—¶ç§»é™¤ç›‘å¬äº‹ä»¶ el.removeEventListener(&#x27;click&#x27;, clickHandler) &#125; &#125;)&#125;let timer = null;// ç‚¹å‡»äº‹ä»¶çš„å›è°ƒå‡½æ•°function clickHandler(fn) &#123; // åˆ›å»ºä¸€ä¸ªé—­åŒ…ï¼Œä¿å­˜ä¸€ä¸ªæ ‡è®°ç”¨æ¥å­˜æ”¾å®šæ—¶å™¨çš„è¿”å›å€¼ let timer = null; return function () &#123; console.log(&quot;11213123&quot;, timer); clearTimeout(timer); timer = setTimeout(() =&gt; &#123; fn &amp;&amp; fn.value(); &#125;, 4000) &#125;&#125; xxx.vue ä¸­ä½¿ç”¨ 123456789101112&lt;template&gt; &lt;div&gt; &lt;button v-debounce=&quot;() =&gt; debounceHandler(1)&quot;&gt;æŒ‰é’®1&lt;/button&gt; &lt;button v-debounce=&quot;() =&gt; debounceHandler(2)&quot;&gt;æŒ‰é’®2&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup&gt;// ç‚¹å‡»å›è°ƒå‡½æ•°const debounceHandler = (id) =&gt; &#123; console.log(id)&#125;&lt;/script&gt; èŠ‚æµåœ¨utils/derectives/debounce.js æ³¨å†Œæ’ä»¶ 123456789101112131415161718192021222324252627// æ³¨å†Œæ’ä»¶export default (Vue) =&gt; &#123; Vue.directive(&quot;throtTleback&quot;, &#123; created(el, fn) &#123; // ç›‘å¬ç‚¹å‡»äº‹ä»¶ï¼Œå›è°ƒå‡½æ•°å¿…é¡»æ·»åŠ  () =&gt; ;ä¸ç„¶ä¼šç«‹å³æ‰§è¡Œ el.addEventListener(&#x27;click&#x27;, () =&gt; clickHandler(fn)) &#125;, unmounted(el) &#123; // ç»„ä»¶å¸è½½æ—¶ç§»é™¤ç›‘å¬äº‹ä»¶ el.removeEventListener(&#x27;click&#x27;, clickHandler) &#125; &#125;)&#125;// ç‚¹å‡»äº‹ä»¶çš„å›è°ƒå‡½æ•°function clickHandler(fn) &#123; // åˆ›å»ºä¸€ä¸ªé—­åŒ…ï¼Œä¿å­˜ä¸€ä¸ªæ ‡è®°ç”¨æ¥å­˜æ”¾å®šæ—¶å™¨çš„è¿”å›å€¼ let isCanClick = true; return function () &#123; if (!isCanClick) return; isCanClick = false; setTimeout(() =&gt; &#123; fn &amp;&amp; fn.value(); isCanClick = true; &#125;, 1000) &#125;&#125; xxx.vue ä¸­ä½¿ç”¨ 123456789101112&lt;template&gt; &lt;div&gt; &lt;button v-throtTleback=&quot;() =&gt; debounceHandler(1)&quot;&gt;æŒ‰é’®1&lt;/button&gt; &lt;button v-throtTleback=&quot;() =&gt; debounceHandler(2)&quot;&gt;æŒ‰é’®2&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script setup&gt;// ç‚¹å‡»å›è°ƒå‡½æ•°const debounceHandler = (id) =&gt; &#123; console.log(id)&#125;&lt;/script&gt; æ„Ÿè°¢è§‚çœ‹ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©å¯ä»¥å…³æ³¨æœ¬ç«™ï¼Œé¾™å°äº¦åœ¨æ­¤è°¢è¿‡äº†","tags":["js","vue","jsåŸºç¡€"],"categories":["js"]},{"title":"scss å®ç°æ—¥/å¤œé—´æ¨¡å¼åˆ‡æ¢","path":"/2023/11/03/scss-å®ç°æ—¥-å¤œé—´æ¨¡å¼åˆ‡æ¢/","content":"æœ‰é¡¹ç›®éœ€è¦å¤œé—´æ¨¡å¼ï¼Œå°±å¼€å§‹å¯»æ‰¾å¤œé—´æ¨¡å¼çš„è§£å†³æ–¹æ¡ˆã€‚å› ä¸ºé¡¹ç›®æœ¬èº«ç”¨çš„æ˜¯scssï¼Œæ‰€ä»¥æ€è·¯æ˜¯scssåˆ‡æ¢ä¸»é¢˜ã€‚ scssä¾èµ–å®‰è£…(å·²å®‰è£…çš„å¯ä»¥ç•¥è¿‡) å¦‚æœæ˜¯ç”¨viteæ„å»ºé¡¹ç›®çš„ï¼Œç›´æ¥å¤åˆ¶ä¸‹é¢è¿™æ®µå°±å¥½äº†ã€‚ shell1npm install sass -D æˆ–è€… shell1yarn add sass -D å¦‚æœæ˜¯ä½¿ç”¨webpackæ„å»ºé¡¹ç›®çš„ï¼Œå®‰è£…ä¸‹é¢çš„æ­¥éª¤ã€‚ å®‰è£…ä¾èµ– 123npm install node-sass sass-loader --save-dev æˆ–yarn add node-sass sass-loader -D åœ¨webpacké…ç½®æ–‡ä»¶ä¸­æ·»åŠ scssè§„åˆ™(åœ¨rulesé…ç½®ä¸‹)ã€‚ webpack.base.conf.js12345&#123; test: /\\.scss$/, loaders: [&#x27;style&#x27;, &#x27;css&#x27;, &#x27;sass&#x27;]&#125; å…¨å±€æ³¨å†Œscsså˜é‡(æœ‰éœ€è¦å¯ä»¥é…ç½®) ç”¨viteæ„å»ºé¡¹ç›®çš„ vite.config.js1234567891011121314export default defineConfig(&#123; plugins:[vue()], // --- è¿™éƒ¨åˆ†æ˜¯éœ€è¦æ·»åŠ çš„ --- //é…ç½®sass css: &#123; preprocessorOptions: &#123; // globalVar.scss å’Œ globalMixin.scss ä¸ºä½ éœ€è¦å…¨å±€æ³¨å…¥çš„scss scss: &#123; additionalData: &#x27;@import &quot;../assets/scss/globalVar.scss&quot;;@import &quot;../assets/scss/globalMixin.scss&quot;;&#x27; &#125; &#125; &#125;, // --- æ·»åŠ å®Œæ¯• ---&#125;) ä½¿ç”¨webpackæ„å»ºé¡¹ç›®çš„ã€‚ å®‰è£…sass-resources-loader 123npm install sass-resources-loader --save-devæˆ–yarn add sass-resources-loader -D ä¿®æ”¹build/utils.jsä¸­çš„ exports.cssLoaderså‡½æ•°ã€‚ build/utils.js123456789101112131415161718192021222324252627282930// å®šä½æ–‡ä»¶function resolveResource(name) &#123; return path.resolve(__dirname, &#x27;../assets/scss/&#x27; + name);&#125;function generateSassResourceLoader() &#123; var loaders = [ cssLoader, &#x27;sass-loader&#x27;, &#123; loader: &#x27;sass-resources-loader&#x27;, options: &#123; // å¤šä¸ªæ–‡ä»¶æ—¶ç”¨æ•°ç»„çš„å½¢å¼ä¼ å…¥ï¼Œå•ä¸ªæ–‡ä»¶æ—¶å¯ä»¥ç›´æ¥ä½¿ç”¨ path.resolve(__dirname, &#x27;../src/ // globalVar.scss å’Œ globalMixin.scss ä¸ºä½ éœ€è¦å…¨å±€æ³¨å…¥çš„scss resources: [ resolveResource(&#x27;globalVar.scss&#x27;), resolveResource(&#x27;globalMixin.scss&#x27;), ] &#125; &#125; ]; if (options.extract) &#123; return ExtractTextPlugin.extract(&#123; use: loaders, fallback: &#x27;vue-style-loader&#x27; &#125;) &#125; else &#123; return [&#x27;vue-style-loader&#x27;].concat(loaders) &#125;&#125; ä¿®æ”¹ä¹‹å‰çš„return build/utils.js123456789101112return &#123; css: generateLoaders(), postcss: generateLoaders(), less: generateLoaders(&#x27;less&#x27;), // sass: generateLoaders(&#x27;sass&#x27;, &#123; indentedSyntax: true &#125;), // scss: generateLoaders(&#x27;sass&#x27;), sass: generateSassResourceLoader(), scss: generateSassResourceLoader(), stylus: generateLoaders(&#x27;stylus&#x27;), styl: generateLoaders(&#x27;stylus&#x27;)&#125; æ–°å»ºthemes.scss(ä¸»é¢˜é…ç½®)æ–‡ä»¶ï¼Œå®ç°ä¸åŒä¸»é¢˜é…è‰²æ–¹æ¡ˆ./styles/themes.scss1234567891011121314151617$themes: ( // æ˜äº®ä¸»é¢˜ light: ( bg_color: #ffffff, font_color: #1c1c1e, border_color: rgba(0, 0, 0, 0.1) ), // é»‘æš—ä¸»é¢˜ dark: ( bg_color: hsla(0,0%,13%,1), font_color: #ffffff, border_color: rgba(255, 255, 255, 0.4) ));// è¿™ä¸ªæ˜¯ä¸ºäº†åé¢æ¼”ç¤º$--n-border-r: 4px; æ–°å»ºhandleTheme.scssæ–‡ä»¶ï¼Œæ§åˆ¶ä¸»é¢˜é…è‰²ã€‚./styles/handleTheme.scss12345678910111213141516171819202122232425262728293031323334353637383940// å¼•å…¥åˆšæ‰å»ºç«‹çš„ä¸»é¢˜é…è‰²æ ·å¼æ–‡ä»¶@import &quot;./themes.scss&quot;;//éå†ä¸»é¢˜map@mixin themeify &#123; @each $theme-name, $theme-map in $themes &#123; //!global æŠŠå±€éƒ¨å˜é‡å¼ºå‡ä¸ºå…¨å±€å˜é‡ $theme-map: $theme-map !global; //åˆ¤æ–­htmlçš„data-themeçš„å±æ€§å€¼ #&#123;&#125;æ˜¯sassçš„æ’å€¼è¡¨è¾¾å¼ //&amp; sassåµŒå¥—é‡Œçš„çˆ¶å®¹å™¨æ ‡è¯† @contentæ˜¯æ··åˆå™¨æ’æ§½ï¼Œåƒvueçš„slot [data-theme=&quot;#&#123;$theme-name&#125;&quot;] &amp; &#123; @content; &#125; &#125;&#125;// å£°æ˜ä¸€ä¸ªæ ¹æ®Keyè·å–é¢œè‰²çš„function@function themed($key) &#123; @return map-get($theme-map, $key);&#125;// è·å–èƒŒæ™¯é¢œè‰²@mixin background_color($color) &#123; @include themeify &#123; background-color: themed($color)!important; &#125;&#125;// è·å–å­—ä½“é¢œè‰²@mixin font_color($color) &#123; @include themeify &#123; color: themed($color)!important; &#125;&#125;// è·å–è¾¹æ¡†é¢œè‰²@mixin border_color($color) &#123; @include themeify &#123; border-color: themed($color)!important; &#125;&#125; åˆ‡æ¢ä¸»é¢˜åœ¨app.vueæˆ–è€…éœ€è¦ç”¨åˆ°ä¸»é¢˜åˆ‡æ¢çš„ç»„ä»¶ä¸­ã€‚ app.vue123456789101112131415161718192021// åœ¨jséƒ¨åˆ†import &#123; onMounted, ref &#125; from &quot;vue&quot;;// å¯ä»¥å°†ä¸»é¢˜é…ç½®å†™åœ¨æµè§ˆå™¨storageä¸­ã€‚const theme = ref(window.localStorage.getItem(&quot;theme&quot;) || &quot;light&quot;);// åŠ è½½ä¸»é¢˜onMounted(() =&gt; &#123; window.document.documentElement.setAttribute(&quot;data-theme&quot;, theme.value);&#125;);// åˆ‡æ¢ä¸»é¢˜const changeTheme = () =&gt; &#123; if (theme.value === &quot;light&quot;) &#123; theme.value = &quot;dark&quot;; &#125; else &#123; theme.value = &quot;light&quot;; &#125; window.localStorage.setItem(&quot;theme&quot;, theme.value); window.document.documentElement.setAttribute(&quot;data-theme&quot;, theme.value);&#125;; å¦‚ä½•ä½¿ç”¨æ ·å¼./components/xxx.vue123456789101112131415161718// å¦‚æœæ²¡æœ‰å°† handleTheme.scss æ³¨å†Œåˆ°å…¨å±€çš„è¯éœ€è¦å…ˆå¼•å…¥@import &quot;@/styles/handleTheme.scss&quot;;.details-area, .comment-area &#123; background-color: #FFFFFF; // ä½¿ç”¨mixin @include background_color(&quot;bg_color&quot;); // ä½¿ç”¨å˜é‡ border-radius: $--n-border-r;&#125;.community-topic-title &#123; font-weight: 700; font-size: 22px; color: #000; @include font_color(&quot;font_color&quot;); padding-top: 0.195rem;&#125; scss éå¸¸å¼ºå¤§ï¼Œè¯­æ³•ä¹Ÿæ¯”è¾ƒå¤šï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è®¿é—®å®˜ç½‘ã€‚ https://www.sass.hk/https://www.sass.hk/ éœ€è¦æ³¨æ„çš„æ˜¯ï¼š ä¸€èˆ¬å»ºè®®ä¸»é¢˜é…ç½®æ ·å¼å’Œå…¶ä»–å…¨å±€æ ·å¼åˆ†å¼€å†™ï¼Œæœ¬æ–‡ä¸­åœ¨ä¸»é¢˜é…ç½®æ ·å¼æ–‡ä»¶ä¸­åŠ å…¥å…¨å±€æ ·å¼æœ¬èº«å°±æ˜¯ä¸æ­£ç¡®çš„ã€‚ ä¸»é¢˜æ ·å¼å’Œå…¨å±€æ ·å¼ä¸€èˆ¬å»ºè®®å…¨å±€æ³¨å†Œï¼Œé™¤éæ˜¯å¯¹é¡¹ç›®æ„å»ºåçš„å¤§å°æœ‰è¦æ±‚ã€‚ æ„Ÿè°¢è§‚çœ‹ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©å¯ä»¥å…³æ³¨æœ¬ç«™ï¼Œé¾™å°äº¦åœ¨æ­¤è°¢è¿‡äº†","tags":["css","scss"],"categories":["css"]},{"title":"css:text-align ä¸¤ç«¯å¯¹é½å¸¸è§é—®é¢˜","path":"/2023/10/16/css:text-align ä¸¤ç«¯å¯¹é½å¸¸è§é—®é¢˜/","content":"å…¼å®¹æ€§é—®é¢˜text-align: justify;ä¸¤ç«¯å¯¹é½IEã€ç«ç‹ä¸å…¼å®¹è§£å†³æ–¹æ¡ˆtext-align: justify;åœ¨ç«ç‹ä¸IEä¸­ä¸èµ·ä½œç”¨ã€‚åŠ ä¸Šä¸‹è¾¹ä¸¤è¡Œå°±é˜”ä»¥å•¦ï¼ 123text-align: justify;word-break: break-all;text-justify: distribute; å•è¡Œæ— æ³•ä¸¤ç«¯å¯¹é½text-align: justify;æœ€åä¸€è¡Œæ˜¯æ— æ³•ç”Ÿæ•ˆçš„ï¼Œå¦‚æœåªæœ‰ä¸€è¡Œï¼Œå°±ä¼šé»˜è®¤ä¸ºæ˜¯æœ€åä¸€è¡Œã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®justify-allæˆ–è€…text-align-lastå°±é˜”ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ 123justify-all: justify;/* æˆ–è€… */text-align-last: justify; éœ€è¦æ³¨æ„çš„æ˜¯text-align-lastå¹¶ä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒçš„ï¼ å¦‚æœé‡åˆ°äº†ä¸æ”¯æŒtext-align-lastçš„æµè§ˆå™¨ï¼Œå¯ä»¥é€šè¿‡::afterä¼ªå…ƒç´ æ¨¡æ‹Ÿä¸€è¡Œ 12345::after &#123; content: &quot;&quot;; display: inline-block; width: 100%;&#125; éœ€è¦æ³¨æ„çš„æ˜¯è¿™æ ·ä¼šå¢åŠ å…ƒç´ çš„é«˜åº¦ã€‚ æ„Ÿè°¢è§‚çœ‹ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©å¯ä»¥å…³æ³¨æœ¬ç«™ï¼Œé¾™å°äº¦åœ¨æ­¤è°¢è¿‡äº†","tags":["css"],"categories":["css"]},{"title":"js ä¸­æ— æ³•ç›‘å¬åˆ°onScrolläº‹ä»¶","path":"/2023/06/16/jsä¸­æ— æ³•ç›‘å¬åˆ°onScrolläº‹ä»¶/","content":"é—®é¢˜æè¿°æœ‰ä¸ªé¡¹ç›®ä¸­ï¼Œéœ€è¦ç›‘å¬å­ç»„ä»¶ä¸­æ˜¯å¦æ»‘åŠ¨ï¼Œæœ€åˆæƒ³åˆ°äº†windowå…¨å±€ç›‘å¬ï¼Œå´å‘ç°æ ¹æœ¬ç›‘å¬ä¸åˆ°ã€‚åæƒ³åˆ°onScrollApiï¼Œè¿™æ¬¡è®°å½•ä¸€ä¸‹åœ¨onScrollApiä¸­è¸©è¿‡çš„å‘ã€‚ æ ·ä¾‹1234567891011121314151617181920&lt;div&gt; &lt;div onScroll=&quot;onScrollCB()&quot; class=&quot;scrollDiv&quot;&gt; &lt;img src=&quot;https://img0.baidu.com/it/u=554275960,1123388892&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=800&amp;h=500&quot; /&gt; &lt;img src=&quot;https://img0.baidu.com/it/u=554275960,1123388892&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=800&amp;h=500&quot; /&gt; &lt;img src=&quot;https://img0.baidu.com/it/u=554275960,1123388892&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=800&amp;h=500&quot; /&gt; &lt;img src=&quot;https://img0.baidu.com/it/u=554275960,1123388892&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=800&amp;h=500&quot; /&gt; &lt;img src=&quot;https://img0.baidu.com/it/u=554275960,1123388892&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=800&amp;h=500&quot; /&gt; &lt;img src=&quot;https://img0.baidu.com/it/u=554275960,1123388892&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=800&amp;h=500&quot; /&gt; &lt;/div&gt; ä½ å¥½ ä½ å¥½ ä½ å¥½ &lt;/div&gt; &lt;script&gt; window.addEventListener(&quot;scroll&quot;, () =&gt; &#123; console.log(&quot;å…¨å±€æ»‘åŠ¨&quot;); &#125;); function onScrollCB() &#123; console.log(&quot;divå†…æ»‘åŠ¨&quot;); &#125; &lt;/script&gt; å¦‚æœä¸Šé¢é‚£æ ·å†™ï¼Œå…¶å®æ°¸è¿œæ— æ³•æ‰“å°divå†…æ»‘åŠ¨ï¼Œå› ä¸ºæ»‘åŠ¨äº‹ä»¶å¹¶æ²¡æœ‰å‘ç”Ÿåœ¨æ‰€ç›‘å¬çš„divä¸­ï¼Œåªæœ‰æ»‘åŠ¨å‘ç”Ÿåœ¨æ‰€ç›‘å¬çš„divä¸­onScrollæ‰ä¼šè¢«è§¦å‘ã€‚ è§£å†³è§£å†³æ–¹æ³•å…¶å®å¾ˆç®€å•ï¼Œç»™éœ€è¦ç›‘å¬çš„divæ·»åŠ ä¸€ä¸ªé«˜åº¦é™åˆ¶ï¼Œå¹¶å…è®¸æ»‘åŠ¨ã€‚å°±èƒ½è®©æ»‘åŠ¨å‘ç”Ÿåœ¨divå†…ã€‚ 1234.scrollDiv &#123; height: 400px; overflow: auto;&#125; éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œdivå†…å†…å®¹çš„é«˜åº¦å¿…é¡»é«˜äºæˆ–å®½åº¦å®½äºdivæ‰€é™åˆ¶çš„é«˜åº¦æˆ–å®½åº¦ï¼Œæ‰èƒ½è®©divæ»‘åŠ¨èµ·æ¥ã€‚ æ„Ÿè°¢è§‚çœ‹ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©å¯ä»¥å…³æ³¨æœ¬ç«™ï¼Œé¾™å°äº¦åœ¨æ­¤è°¢è¿‡äº†","tags":["js"],"categories":["js"]},{"title":"dockeréƒ¨ç½²Haoopé›†ç¾¤","path":"/2023/05/19/dockeréƒ¨ç½²Haoopé›†ç¾¤/","content":"ä½¿ç”¨dockeréƒ¨ç½²Haoopé›†ç¾¤ æŠ€æœ¯æ ˆç»“æ„12345678# hadoopé›†ç¾¤ç‰ˆæœ¬hadoop-3.3.1# javaç‰ˆæœ¬OpenJDK8U-jdk_x64_linux_hotspot_8u322b06 # æ¸…åæºä¸Šä¸‹è½½# centosç‰ˆæœ¬centos7# dockerç‰ˆæœ¬docker 20.10.12 ç½‘ç»œipåˆ†é…123456# ç½‘ç»œé›†ç¾¤172.18.0.0# é‡‡ç”¨ä¸€ä¸»ä¸¤ä»æ­å»º hadoopå®Œå…¨åˆ†å¸ƒå¼masert 172.18.0.10salver01 172.18.0.11salver02 172.18.0.12 åˆ›å»ºä¸€ä¸ªdocker-ent ç½‘ç»œ1docker network create --driver bridge --subnet 172.18.0.0/16 --gateway 172.18.0.1 HadoopClusterEnt æ„å»ºhadoop+jdk+centosçš„é•œåƒ123456789101112131415161718192021222324252627282930313233343536373839# DockerfileFROM centos:7# é•œåƒçš„ä½œè€…MAINTAINER long&lt;31742145@qq.com&gt;# å®‰è£…openssh-serverå’Œsudoè½¯ä»¶åŒ…ï¼Œå¹¶ä¸”å°†sshdçš„UsePAMå‚æ•°è®¾ç½®æˆnoRUN yum install -y openssh-server sudoRUN sed -i &#x27;s/UsePAM yes/UsePAM no/g&#x27; /etc/ssh/sshd_config#å®‰è£…openssh-clientsRUN yum install -y openssh-clients# æ·»åŠ æµ‹è¯•ç”¨æˆ·rootï¼Œå¯†ç rootï¼Œå¹¶ä¸”å°†æ­¤ç”¨æˆ·æ·»åŠ åˆ°sudoersé‡ŒRUN echo &quot;root:root&quot; | chpasswdRUN echo &quot;root ALL=(ALL) ALL&quot; &gt;&gt; /etc/sudoersRUN ssh-keygen -t dsa -f /etc/ssh/ssh_host_dsa_keyRUN ssh-keygen -t rsa -f /etc/ssh/ssh_host_rsa_key# å¯åŠ¨sshdæœåŠ¡å¹¶ä¸”æš´éœ²22ç«¯å£RUN mkdir /var/run/sshdEXPOSE 22# æ·»åŠ jdkå’ŒhadoopADD OpenJDK8U-jdk_x64_linux_hotspot_8u322b06.tar.gz /usr/localADD hadoop-3.3.1.tar.gz /usr/local# æ·»åŠ ç¯å¢ƒENV JAVA_HOME /usr/local/jdk8u322-b06ENV HADOOP_HOME /usr/local/hadoop-3.3.1ENV PATH $PATH:$JAVA_HOME/bin:$HADOOP_HOME/bin:$HADOOP_HOME/sbinEXPOSE 9870EXPOSE 8088CMD [&quot;/usr/sbin/sshd&quot;, &quot;-D&quot;]WORKDIR /usr/localENTRYPOINT /usr/sbin/init# æ„å»º imagedocker build -t long/centos-hadoop . æ„å»ºmasterã€salver01ã€salver02å®¹å™¨12345678# masterdocker run -d --name master --hostname master -p 9870:9870 -p 8088:8088 --network HadoopClusterEnt --ip 172.18.0.10 --privileged=true long/centos-hadoop # salver01docker run -d --name salver01 --hostname salver01 --network HadoopClusterEnt --ip 172.18.0.11 --privileged=true long/centos-hadoop # salver02docker run -d --name salver02 --hostname salver02 --network HadoopClusterEnt --ip 172.18.0.12 --privileged=true long/centos-hadoop å¯åŠ¨masterã€salver01ã€salver02å®¹å™¨12345678# å¯åŠ¨masterdocker exec -it master /bin/bash# å¯åŠ¨salver01docker exec -it salver01 /bin/bash# å¯åŠ¨salver02docker exec -it salver02 /bin/bash é…ç½®Hadoopé›†ç¾¤åˆå§‹åŒ–Hadoopé›†ç¾¤å¯åŠ¨Hadoopé›†ç¾¤"},{"title":"dockerå¸¸ç”¨å‘½ä»¤","path":"/2023/05/19/dockerå¸¸ç”¨å‘½ä»¤/","content":"Dockerå¸¸ç”¨å‘½ä»¤ è¿è¡Œä¸€ä¸ªdockerå®ä¾‹1docker run xxx # xxxæ˜¯å®ä¾‹çš„åç§°ï¼Œå¦‚hello-world æŸ¥çœ‹æœ¬åœ°dockeré•œåƒä¿¡æ¯1docker images å¸è½½docker123456# ubnutu ä¸‹# å¸è½½dockerå¼•æ“ï¼Œåº”ç”¨ç¨‹åºsudo apt-get purge docker-ce docker-ce-cli containerd.io# åˆ é™¤dockeré•œåƒï¼Œèµ„æº sudo rm -rf /var/lib/docker # dockerçš„é»˜è®¤å·¥ä½œè·¯å¾„ sudo rm -rf /var/lib/containerd å¸®åŠ©å‘½ä»¤123docker vsersion # æ˜¾ç¤ºdockerä¿¡æ¯docker info # æ˜¾ç¤ºdockerçš„ç³»ç»Ÿä¿¡æ¯docker å‘½ä»¤ --help [dockerå®˜æ–¹å‘½ä»¤åœ°å€](Reference documentation | Docker Documentation) é•œåƒå‘½ä»¤123456789101112131415161718192021docker login # ç™»å½•dockerhub è´¦å·ï¼Œæœ‰äº›é•œåƒéœ€è¦è´¦å·æ‰èƒ½ä¸‹è½½docker images # æŸ¥çœ‹æ‰€æœ‰dockeré•œåƒdocker search java # æœç´¢é•œåƒdocker pull ascdc/jdk8 # ä¸‹è½½é•œåƒ Using default tag: latest # é»˜è®¤æ‹‰å–æœ€æ–°ç‰ˆæœ¬ latest: Pulling from ascdc/jdk8 297061f60c36: Pull complete # åˆ†å±‚ä¸‹è½½( å¦‚æœä¸‹è½½å…¶ä»–é•œåƒæœ‰ç›¸åŒçš„å±‚æ—¶å°±ä¸ä¼šé‡å¤ä¸‹è½½ ) e9ccef17b516: Pull complete dbc33716854d: Pull complete 8fe36b178d25: Pull complete 686596545a94: Pull complete dfa7782be422: Pull complete 25d4d9080d04: Pull complete 0615a7c60138: Pull complete a8a7a10db50a: Pull complete Digest: sha256:44af3f9184a2fde277ccd785f47bfe2ef3f04f2c35bf6d92adf4b40cb585a5f7 #æ ‡ç­¾ Status: Downloaded newer image for ascdc/jdk8:latest docker.io/ascdc/jdk8:latest # çœŸå®çš„ä»“åº“åœ°å€docker rmi -f (imgaeId/imageName) # åˆ é™¤imageï¼Œå¤šä¸ªä¸­é—´åŠ ç©ºæ ¼docker rmi -f $(docker images -qa) # åˆ é™¤æ‰€æœ‰çš„image å®¹å™¨å‘½ä»¤12345678910111213141516171819202122232425262728293031323334353637# ä¸‹è½½é•œåƒå¹¶è¿è¡Œé•œåƒdocker run [å‚æ•°] images## å‚æ•°--name=&quot;Name&quot; #å®¹å™¨åå­—-d #åå°è¿è¡Œ-it # ä½¿ç”¨äº¤äº’æ¨¡å¼è¿è¡Œ-p # æŒ‡å®šä¸€ä¸ªportè¿è¡Œå®¹å™¨\t-p ip:ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£\t-p ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£ ( å¸¸ç”¨ )\t-p å®¹å™¨ç«¯å£-P # éšæœºä¸€ä¸ªport# å¯åŠ¨å¹¶è¿›å…¥å®¹å™¨long@ltp:/$ docker run -it centos /bin/bash[root@04f98154528b /]## é€€å‡ºå‘½ä»¤exit # ä¼šå…³é—­å®¹å™¨ctrl + P + Q # ä¸å…³é—­å®¹å™¨é€€å‡º# åˆ—å‡ºæ‰€æœ‰è¿è¡Œçš„å‘½ä»¤docker psdocker ps -adocker ps -a -n=1 # æ˜¾ç¤ºæœ€åä¸€æ¬¡è¿è¡Œçš„å®¹å™¨docker ps -qa# åˆ é™¤å®¹å™¨docker rm #å®¹å™¨Iddocker rm -f $( docker ps -aq ) #åˆ é™¤æ‰€æœ‰å®¹å™¨# å¯åŠ¨å’Œåœæ­¢å®¹å™¨docker start å®¹å™¨Id # å¯åŠ¨ä¸€ä¸ªå®¹å™¨docker restart å®¹å™¨Id # é‡å¯ä¸€ä¸ªå®¹å™¨docker stop å®¹å™¨Id docker kill å®¹å™¨Id# é‡æ–°è¿›å…¥å®¹å™¨docker exec -it å®¹å™¨Id /bin/bashdocker attach å®¹å™¨Iddocker exec # å¼€å¯ä¸€ä¸ªæ–°çš„ç»ˆç«¯ ( å¸¸ç”¨ )docker attach # ä½¿ç”¨å®¹å™¨ä¹‹å‰çš„ç»ˆç«¯ å¸¸ç”¨çš„å…¶ä»–å‘½ä»¤123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263# åå°å¯åŠ¨å®¹å™¨docker run -d centos# å¸¸è§çš„é—®é¢˜# docker å®¹å™¨ä½¿ç”¨åå°è¿è¡Œï¼Œå°±å¿…é¡»è¦æœ‰ä¸€ä¸ªå‰å°åº”ç”¨ï¼Œdockerå‘ç°æ²¡æœ‰å‰å°åº”ç”¨ï¼Œå°±ä¼šè‡ªåŠ¨åœæ­¢# æŸ¥çœ‹æ—¥å¿—-tf-tail 10 æ˜¾ç¤º10è¡Œæ—¥å¿—docker --logs å®¹å™¨Id# æŸ¥çœ‹å®¹å™¨ä¸­çš„è¿›ç¨‹ä¿¡æ¯docker top å®¹å™¨Id# æŸ¥çœ‹å®¹å™¨å†…éƒ¨ä¿¡æ¯docker inspect å®¹å™¨Id# ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°å®¿ä¸»æœºä¸Šdocker cp å®¹å™¨Id:/æ–‡ä»¶åœ°å€ å®¿ä¸»æœºç›®æ ‡ç›®å½•# æŸ¥çœ‹å®¹å™¨ èµ„æºçŠ¶æ€docker stats# æäº¤å®¹å™¨ -&gt; å°†ä¸€ä¸ªå®¹å™¨æ‰“åŒ…æˆä¸€ä¸ªæ–°çš„é•œåƒ# é¦–å…ˆéœ€è¦è¿è¡Œå®¹å™¨docker commit -m=&quot;æè¿°ä¿¡æ¯&quot; -a=&quot;ä½œè€…&quot; å®¹å™¨Id [Tagä¿¡æ¯]# æŸ¥çœ‹ image buildçš„æ­¥éª¤docker history imageName/imageId# æ•°æ®æŒä¹…åŒ–/æ•°æ®å·æŒ‚è½½docker run -it -v å®¿ä¸»ç›®å½•:å®¹å™¨ç›®å½• # åŒ¿åæŒ‚è½½\t-v å®¹å™¨ç›®å½•\tDRIVER VOLUME NAME\tlocal 2ddc412e3e1d7274549550589ed28bd16f2a8d9ab899d9d853edcac504c5e8e5\t# å…·åæŒ‚è½½\t-v å…·å:å®¹å™¨ç›®å½•\t# åŒºåˆ†å…·åæŒ‚è½½ã€åŒ¿åæŒ‚è½½å’ŒæŒ‡å®šç›®å½•æŒ‚è½½docker -v å®¹å™¨ç›®å½• # åŒ¿åæŒ‚è½½docker -v å…·å:å®¹å™¨ç›®å½• # å…·åæŒ‚è½½dokcer -v /å®¿ä¸»æœºè·¯å¾„:å®¹å™¨ç›®å½• # æŒ‡å®šç›®å½•æŒ‚è½½# æ‹“å±•# ro readOnly åªè¯»æƒé™# rw readWriter è¯»å†™æƒé™docker -v å®¹å™¨ç›®å½•:[ro|rw]\t# æŸ¥çœ‹æ‰€æœ‰æ•°æ®å·docker vloume ls# æäº¤é•œåƒ# æäº¤é•œåƒä¹‹å‰éœ€è¦å…ˆç™»å½•è´¦å·# docker hubdocker pull authorName/imageName:[Tag]# ä¿®æ”¹imageä¿¡æ¯docker tag imageId ä¿®æ”¹ä¹‹åçš„ä¿¡æ¯# æŸ¥çœ‹æ‰€æœ‰çš„dockerç½‘ç»œdocker network ls","tags":["docker","linux"],"categories":["docker"]},{"title":"sqoop","path":"/2023/05/19/sqoop/","content":"sqoopåŸºç¡€ ä½¿ç”¨sqoopè¿æ¥mysqlæ—¶ï¼Œå¦‚æœjavaçš„ç‰ˆæœ¬è¿‡é«˜æœ‰å¯†ç å®‰å…¨æœºåˆ¶ æŸ¥è¯¢æ—¶éœ€è¦åœ¨mysqlåœ°å€ååŠ ä¸Š useSSL&#x3D;false sqoop -list-databases --connect jdbc:mysql://localhost:3306?useSSl=false --username root -password long å°†mysqlçš„æ•°æ®å¯¼å…¥åˆ°hdfsä¸Š 1sqoop import --connect jdbc:mysql://localhost:3306/testDatabase?useSSl=false --username root -password long --table tableName --columns &#x27;id,name&#x27; import ä¼šå°†mysqlçš„æ•°æ®å¯¼å…¥åˆ°hdfsä¸­ å°†mysqlæ•°æ®çš„è¡¨ç»“æ„å¤åˆ¶åˆ°hiveä¸­1sqoop create-Hive-table --connect jdbc:mysql://localhost:3306/testDatabase?useSSL=false --username root -password long --table tableName --hive-table users --fields-terminated-by &quot;,&quot; å°†æ•°æ®ä»mysqlæ•°æ®åº“å¯¼å…¥æ–‡ä»¶åˆ°hiveè¡¨ä¸­â€”â€”import12345sqoop import --connect jbdc:mysql://localhost:3306/testDatabase --username root --password long --table tableName--hive-import --hive-table users -m 2 --fields-terminated-by &quot;,&quot; å‚æ•°è¯´æ˜ï¼š 1ã€-m 2 è¡¨ç¤ºç”±ä¸¤ä¸ªmapä½œä¸šæ‰§è¡Œï¼› 2ã€â€“fields-terminated-by â€œ,â€ éœ€åŒåˆ›å»ºhiveè¡¨æ—¶ä¿æŒä¸€è‡´ï¼› æ³¨æ„ï¼šå…ˆæ ¹æ®mysqlè¡¨çš„ç»“æ„å¾—åˆ°hiveè¡¨ï¼Œç„¶åå°†mysqlè¡¨ä¸­çš„æ•°æ®å¯¼å…¥åˆ°hiveè¡¨ï¼ˆä¹Ÿå°±æ˜¯å¯¼å…¥åˆ°HDFSï¼Œå› ä¸ºhiveè¡¨çš„æ•°æ®æ˜¯å­˜åœ¨hdfsä¸Šçš„warehouseï¼‰ â€“columns â€“where è¯­å¥ä½¿ç”¨123456sqoop import --append --connect jdbc:mysql://loclhost:3306/test --username root --password long --table tableName --columns &quot;id,age,name&quot; --where &quot;id &gt; 3 and (age = 88 or age = 80)&quot; -m 1 --hive-import --hive-table userinfos2--fields-terminated-by &quot;,&quot;; è¿½åŠ å¯¼å…¥123sqoop import --connect jdbc:mysql://db.foo.com/somedb --table sometable--where &quot;id &gt; 100000&quot; --target-dir /incremental_dataset â€“append å°†hiveçš„æ•°æ®å¯¼å…¥åˆ°myslq123456sqoop export --connect jdbc:mysql://localhost:3306/trafficdata?useSSL=false --username root --password hadoop -table order_province_time --export-dir /user/hive/warehouse/trafficdata.db/order_province_time--input-fields-terminated-by &#x27;\\001&#x27; Hive çš„å…ƒæ•°æ®åœ¨mysqlä¸­ï¼Œä½†æ˜¯Hiveçš„æ•°æ®å­˜åœ¨hdfsä¸Š hiveæ•°æ®åº“ä¿å­˜çš„è·¯å¾„ &#x3D;&gt; &#x2F;user&#x2F;hive&#x2F;warehouse&#x2F;trafficdata.db hiveé»˜è®¤çš„å­—æ®µåˆ†éš”ç¬¦ä¸ºâ€™\\001â€™ å¦‚æœå‡ºç°æ‹’ç»è¿æ¥çš„é”™è¯¯ä¿¡æ¯ï¼Œè¯·æ£€æŸ¥mysqlä¸­rootæ˜¯å¦å¼€æ”¾è¿œç¨‹è¿æ¥ï¼Œåå°†localhostæ”¹ä¸ºipåœ°å€ã€‚æˆ–è€…å¼€å¯hive metastore æœåŠ¡ å…¶ä»–sqoopå¸¸ç”¨å‘½ä»¤sqoopå¸¸ç”¨å‘½ä»¤","tags":["linux","hive","sqoop","mysql"],"categories":["sqoop"]},{"title":"dockeréƒ¨ç½²","path":"/2023/05/19/dockeréƒ¨ç½²/","content":"docker å¸¸è§éƒ¨ç½²æ–¹å¼ nginx12345678# 1. æ‹‰å–nginxé•œåƒdocker pull nginx# 2.è¿è¡Œnginxé•œåƒ# -d åå°è¿è¡Œ# -name ç»™å®¹å™¨è®¾ç½®ä¸€ä¸ªname# -p æš´éœ²ç«¯å£ å°†å®¹å™¨å†…çš„80 æš´éœ²åˆ°å®¿ä¸»æœºä¸Šçš„3000ä¸Šdocker run -d --name nginx01 -p 3000:80 nginx tomcat1234567891011# 1. æ‹‰å–tomcaté•œåƒ -- æ‹‰å–æŒ‡å®šç‰ˆæœ¬docker pull tomcat:9.0# 2.è¿è¡Œtomcaté•œåƒ# -d åå°è¿è¡Œ# -name ç»™å®¹å™¨è®¾ç½®ä¸€ä¸ªname# -p æš´éœ²ç«¯å£ å°†å®¹å™¨å†…çš„8080 æš´éœ²åˆ°å®¿ä¸»æœºä¸Šçš„3000ä¸Šdocker run -d --name tomcat01 -p 3000:8080 tomcat# --rm åœæ­¢å®¹å™¨ååˆ é™¤å®¹å™¨ ( ä¸€èˆ¬ç”¨äºæµ‹è¯• )docker run -d --name --rm tomcat01 -p 3000:8080 tomcat 12# -e æ·»åŠ ç¯å¢ƒé…ç½®docker run -d --name elasticsearch02 -p 9999:9300 -p 9998:9200 -e &quot;discovery.type=single-node&quot; -e ES_JAVA_OPTS=&quot;-Xms64m -Xmx512m&quot; elasticsearch è‡ªå®šä¹‰tomcat image12345678910111213141516171819202122232425262728# ç¼–å†™dockerfileFROM centosMAINTAINER long&lt;317742145@qq.com&gt;ADD OpenJDK8U-jdk_x64_linux_hotspot_8u322b06.tar.gz /usr/local/ADD apache-tomcat-9.0.56.tar.gz /usr/localENV MYPATH /usr/localWORKDIR $MYPATHENV JAVA_HOME /usr/local/OpenJDK8U-jdk_x64_linux_hotspot_8u322b06ENV CATALINA_HOME /usr/local/apache-tomcat-9.0.56ENV CATALINA_BASE /usr/local/apache-tomcat-9.0.56ENV PATH $PATH:$JAVA_HOME/bin:$CATALINA_HOME/bin:$CATALINA_HOME/libEXPOSE 8080CMD /usr/local/apache-tomcat-9.0.56/bin/startup.sh # æ„å»º image å¦‚æœdockerFileçš„åå­—ä¸º Dockerfile çš„è¯å°±å¯ä»¥çœç•¥ä¸åŠ  -f å‚æ•°docker build -f Dockerfile -t dittomcat ./docker run -d -p 9090:8080 --name diytomcat01 -v /home/long/tomcat/test:/usr/local/apache-tomcat-9.0.56/webapps/test -v /home/long/tomcat/logs:/usr/local/apache-tomcat-9.0.56/logs diytomcatdocker run -it -p 9090:8080 --name diytomcat01 -v /home/long/tomcat/test:/usr/local/apache-tomcat-9.0.56/webapps/test -v /home/long/tomcat/logs:/usr/local/apache-tomcat-9.0.56/logs diytomcat /bin/bash","tags":["docker","linux"],"categories":["docker"]},{"title":"docker","path":"/2023/05/09/docker/","content":"ä»€ä¹ˆæ˜¯docker Docker çš„åŸºæœ¬ç»„æˆ é•œåƒ( image ) docker é•œåƒå¥½æ¯”æ˜¯ä¸€ä¸ªæ¨¡æ¿ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªæ¨¡æ¿æ¥åˆ›å»ºå®¹å™¨æœåŠ¡ã€‚ å®¹å™¨( container ) docker åˆ©ç”¨å®¹å™¨æŠ€æœ¯ï¼Œç‹¬ç«‹è¿è¡Œä¸€ä¸ªæˆ–è€…ä¸€ç»„åº”ç”¨ï¼Œé€šè¿‡é•œåƒæ¥åˆ›å»ºã€‚ å¯åŠ¨ï¼Œåœæ­¢ï¼Œåˆ é™¤ç­‰åŸºæœ¬å‘½ä»¤ 1. ä»“åº“( repository ) â€‹ ä»“åº“æ˜¯å­˜æ”¾é•œåƒçš„åœ°æ–¹ï¼Œ( å…±æœ‰å’Œç§æœ‰ä»“åº“ ) å®‰è£…Docker12345678910111213141516171819202122232425# ubuntu ä¸‹# 1.å¸è½½æ—§çš„ç‰ˆæœ¬ sudo apt-get remove docker docker-engine docker.io containerd runc# 2.è®¾ç½®ä»“åº“sudo apt-get updatesudo apt-get install \\ ca-certificates \\ curl \\ gnupg \\ lsb-release # 3.åˆ‡æ¢æˆå›½å†…çš„é•œåƒæº curl -fsSL https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/gpg | sudo apt-key add -sudo add-apt-repository &quot;deb [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu \\$(lsb_release -cs) stable&quot; # 4.æ›´æ–°è½¯ä»¶åŒ…ç¼“å­˜ sudo apt update # 5.å®‰è£…docker æœåŠ¡ sudo apt-get install docker-ce docker-ce-cli containerd.io # 6.å¯åŠ¨docker sudo service docker start # docker æµ‹è¯• # æŸ¥çœ‹docker ç‰ˆæœ¬ä¿¡æ¯ docker verison # è¿è¡Œä¸€ä¸ªdockerå®ä¾‹ sudo docker run hello-world dockeråº•å±‚docker æ˜¯ä¸€ä¸ª client-server ç»“æ„çš„ç³»ç»Ÿï¼Œdockerçš„å®ˆæŠ¤è¿›ç¨‹è¿è¡Œåœ¨ä¸»æœº( å®¿ä¸» )ä¸Šã€‚é€šè¿‡Socketä»å®¢æˆ·ç«¯è®¿é—®ã€‚docker-server æ¥æ”¶åˆ° docker-client ä¹‹åå°±ä¼šå»è¿è¡Œã€‚ dockerä¸ºä»€ä¹ˆæ¯”VMå¿« dockeræ¯”VMæœ‰æ›´å°‘çš„æŠ½è±¡å±‚ã€‚ dockeråˆ©ç”¨çš„æ˜¯å®¿ä¸»æœºçš„å†…æ ¸ docker å®¹å™¨æ•°æ®å·ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·ï¼Ÿ å¦‚æœæ•°æ®éƒ½åœ¨å®¹å™¨ä¸­ï¼Œæˆ‘ä»¬å°†å®¹å™¨åˆ äº†å°±ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤± &#x3D;&#x3D;éœ€æ±‚ï¼šæ•°æ®æŒä¹…åŒ–&#x3D;&#x3D; å®¹å™¨ä¹‹é—´æ•°æ®å…±äº« dockerå®¹å™¨ä¸­çš„æ•°æ®åŒæ­¥åˆ°æœ¬åœ° &#x3D;&#x3D;å°†å®¹å™¨æ•°æ®ç›®å½•æŒ‚è½½åˆ°å®¿ä¸»æœºä¸Šï¼&#x3D;&#x3D; ä½¿ç”¨æ•°æ®å·1docker run -it -v å®¿ä¸»ç›®å½•:å®¹å™¨ç›®å½• DockerfiledockerFile æ˜¯ç”¨æ¥æ„å»ºä¸€ä¸ªdocker imageçš„æ–‡ä»¶ 12345# è‡ªå®šä¹‰DockerFileFROM centosVOLUME [â€œvolume01â€,â€œvolume02â€]CMD echo &quot;-----end-----&quot;CMD /bin/bash 123456789101112131415161718192021# æ„å»ºDocker miagedocker bulid -f æ„å»ºmiageä½¿ç”¨çš„æ–‡ä»¶ -t imagesåå­— imagesä¿å­˜ç›®å½•# Sending build context to Docker daemon 2.048kBStep 1/4 : FROM centos ---&gt; 5d0da3dc9764Step 2/4 : VOLUME [&#x27;volume01&#x27;,&#x27;volume02&#x27;] ---&gt; Running in d8eb0d2ef56eRemoving intermediate container d8eb0d2ef56e ---&gt; 5fc6e1709489Step 3/4 : CMD echo &quot;-----end-----&quot; ---&gt; Running in f2b5b231b3b0Removing intermediate container f2b5b231b3b0 ---&gt; 48f502e08ca4Step 4/4 : CMD /bin/bash ---&gt; Running in e916a60079d8Removing intermediate container e916a60079d8 ---&gt; 1a522655fe62Successfully built 1a522655fe62Successfully tagged long/centos:latest DockerFileæ„å»ºåŸºç¡€çŸ¥è¯† 1. æ¯ä¸ªå…³é”®å­—éƒ½å¿…é¡»æ˜¯å¤§å†™ 1. æ‰§è¡Œé¡ºåºæ˜¯ä»ä¸Šåˆ°ä¸‹ 1. #è¡¨ç¤ºæ³¨é‡Š 1. æ¯ä¸ªæŒ‡ä»¤éƒ½ä¼šæ„å»ºä¸€å±‚æ–°çš„é•œåƒï¼Œå¹¶æäº¤ï¼ DockerFileæŒ‡ä»¤123456789101112FROM # åŸºç¡€é•œåƒï¼Œä¸€åˆ‡ä»è¿™é‡Œå¼€å§‹æ„å»ºMAINTAINER # ä½œè€…ï¼Œ åå­—+é‚®ç®±RUN # è¿è¡Œçš„å‘½ä»¤ADD # æ·»åŠ æ–°çš„å†…å®¹ï¼Œä¼šè‡ªåŠ¨è§£å‹å‹ç¼©åŒ…WORKDIR # é•œåƒå·¥ä½œç›®å½•VOLUME # æŒ‚è½½çš„ç›®å½•EXPOSE # æš´éœ²ç«¯å£CMD # æŒ‡å®šè¿™ä¸ªå®¹å™¨è¿è¡Œçš„å‘½ä»¤ï¼Œåªæœ‰æœ€åä¸€ä¸ªä¼šç”Ÿæ•ˆENTRPOINT\t# è¿½åŠ å‘½ä»¤ONBUILD # å½“æ„å»ºä¸€ä¸ªè¢«ç»§æ‰¿ DockerFile å°±ä¼šè§¦å‘è¿™ä¸ªæŒ‡ä»¤COPY # ç±»å‹ADD,å°†æˆ‘ä»¬çš„æ–‡ä»¶æ‹·è´åˆ°é•œåƒä¸­ï¼Œä¸ä¼šè‡ªåŠ¨è§£å‹å‹ç¼©åŒ…ENV # æ„å»ºæ—¶è®¾ç½®ç¯å¢ƒå˜é‡ â€‹\tç¼–å†™ä¸€ä¸ªè‡ªå·±çš„centos 12345678910111213141516171819# ç¼–å†™ä¸€ä¸ª dockerFileFROM centosMAINTAINER long&lt;317742145@qq.com&gt;ENV MYPATH /usr/localWORKDIR $MYPATHRUN yum -y install vimRUN yum -y install net-toolsEXPOSE 80CMD echo $MYPATHCMD echo &quot;---end---&quot;CMD /bin/bash# æ„å»º docker Imagedocker build -f dockerFileåå­— -t é•œåƒå ./ å®¹å™¨å·è‡ªåŠ¨æŒ‚è½½æŠ€æœ¯--volumes-from 12345678# å°†ä¸€ä¸ªå®¹å™¨çš„æ•°æ®å·å’Œå¦å¤–ä¸€ä¸ªå®¹å™¨çš„æ•°æ®å·æŒ‚è½½åˆ°ä¸€èµ·# å…ˆå¯åŠ¨ä¸€ä¸ª è‡ªå®šä¹‰çš„centos é‡Œé¢åŠ å…¥äº†æ•°æ®å·docker run -it --name centos01 long/centos /bin/bash# å¯åŠ¨ç¬¬äºŒä¸ª è‡ªå®šä¹‰centosæ—¶ ä½¿ç”¨å®¹å™¨å·è‡ªåŠ¨æŒ‚è½½docker run -it --name centos02 --volumes-from centos01 long/centos /bin/bash# æ­¤æ—¶ ç¬¬ä¸€ä¸ªå®¹å™¨ä¼šäº§ç”Ÿå¯¹åº”çš„ volume å·ï¼Œç¬¬äºŒä¸ªå®¹å™¨ä¼šä½¿ç”¨ç¬¬ä¸€ä¸ªå®¹å™¨å·²ç»äº§ç”Ÿäº†çš„ volume å·ï¼Œå°±ä¸ä¼šäº§ç”Ÿæ–°çš„ volume å· Dockerç½‘ç»œ docker0 å°±æ˜¯dockeråœ¨è™šæ‹Ÿæœºä¸­çš„åœ°å€ 1234567891011121314151617181920# å…ˆè¿è¡Œä¸€ä¸ª å®¹å™¨ # ip addr æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°å®¹å™¨å†…éƒ¨çš„åœ°å€docker run -it --name centos01 centos ip addr# eth0@if57 eth0@if å¼€å¤´çš„å°±æ˜¯ dockerç»™å®¹å™¨åˆ†é…çš„åœ°å€1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever2: tunl0@NONE: &lt;NOARP&gt; mtu 1480 qdisc noop state DOWN group default qlen 1000 link/ipip 0.0.0.0 brd 0.0.0.03: sit0@NONE: &lt;NOARP&gt; mtu 1480 qdisc noop state DOWN group default qlen 1000 link/sit 0.0.0.0 brd 0.0.0.056: eth0@if57: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default link/ether 02:42:ac:11:00:03 brd ff:ff:ff:ff:ff:ff link-netnsid 0 inet 172.17.0.3/16 brd 172.17.255.255 scope global eth0 valid_lft forever preferred_lft forever # å®¹å™¨å’Œå®¹å™¨ä¹‹é—´æ˜¯å¯ä»¥ç›¸äº’pingé€šçš„ è‡ªå®šä¹‰ç½‘ç»œ123456789# åˆ›å»ºäº†ä¸€ä¸ªåä¸º mynetçš„ç½‘ç»œç»„# --driver ç½‘ç»œæ¨¡å¼# --subnet å­ç½‘åœ°å€# --gateway ç½‘å…³åœ°å€docker network create --driver bridge --subnet 192.168.0.0/16 --gateway 192.168.0.1 mynet# æ–°å»ºå®¹å™¨æ—¶å¯ä»¥æŒ‡å®šåŠ å…¥åˆ°è‡ªå®šä¹‰ç½‘ç»œä¸­docker run -d -P --name tomcat-net-01 --net mynet tomcat","tags":["docker","linux"],"categories":["docker"]},{"title":"vue å›¾ç‰‡æ‡’åŠ è½½","path":"/2023/03/24/vue-å›¾ç‰‡æ‡’åŠ è½½/","content":"ä»€ä¹ˆæ˜¯å›¾ç‰‡æ‡’åŠ è½½ åœ¨å‰ç«¯æ¯ä¸ªé¡µé¢é€šå¸¸ä¼šæœ‰å¾ˆå¤šè¯·æ±‚ï¼Œè€Œç»å¤§å¤šæ•°æµè§ˆå™¨æ¯æ¬¡é»˜è®¤çš„æœ€å¤§å¹¶å‘è¯·æ±‚æ•°ä¸º6ä¸ªã€‚è¿™æ ·å°±ä¼šå¯¼è‡´è¯·æ±‚å¾ˆå¤šæ—¶ï¼Œè¯·æ±‚éœ€è¦æ’é˜Ÿï¼Œå¯¼è‡´ç½‘é¡µå“åº”è¾ƒæ…¢ï¼Œæ­¤æ–‡ç« å°±ä¼šé‡‡ç”¨å›¾ç‰‡æ‡’åŠ è½½çš„æ–¹æ³•ï¼Œå°†å›¾ç‰‡è¯·æ±‚æ”¾åœ¨æœ€åˆé€‚çš„åœ°æ–¹ï¼ˆå½“çª—å£å‡ºç°å›¾ç‰‡æ—¶ï¼‰ï¼ŒåŠ å¿«ç½‘é¡µå“åº”é€Ÿåº¦ã€‚ä¸¾ä¸ªä¾‹å­ï¼šç±»ä¼¼äºå¤§å‹çš„æ·˜å®å•†åŸã€äº¬ä¸œç­‰ç½‘é¡µï¼Œè®¾è®¡å¤§é‡çš„å•†å“å›¾ç‰‡ä¿¡æ¯ï¼Œå¦‚æœæˆ‘ä»¬ä½¿é¡µé¢åŒ…å«çš„æ‰€æœ‰å›¾ç‰‡ä¸€æ¬¡æ€§åŠ è½½å®Œæˆï¼Œé‚£ç”¨æˆ·ä½“éªŒå¾ˆå·®ã€‚ç›®å‰æµè¡Œçš„åšæ³•æ˜¯æ»šåŠ¨åŠ¨æ€åŠ è½½ï¼Œä¹Ÿå°±æ˜¯æ‡’åŠ è½½ï¼Œæ˜¾ç¤ºåœ¨å±å¹•ä¹‹å¤–çš„å›¾ç‰‡é»˜è®¤ä¸åŠ è½½ï¼Œéšç€é¡µé¢çš„æ»šåŠ¨ï¼Œå›¾ç‰‡è¿›å…¥äº†æ˜¾ç¤ºçš„èŒƒå›´ï¼Œåˆ™è§¦å‘å›¾ç‰‡çš„åŠ è½½æ˜¾ç¤ºè¿™æ ·åšçš„å¥½å¤„ï¼Œä¸€æ˜¯é¡µé¢åŠ è½½é€Ÿåº¦å¿«(æµè§ˆå™¨è¿›åº¦æ¡å’ŒåŠ è½½è½¬åœˆå¾ˆå¿«å°±ç»“æŸäº†ï¼Œè¿™æ ·ç”¨æˆ·çš„ä½“éªŒä¹Ÿæ¯”è¾ƒå¥½)ï¼Œè€Œæ˜¯èŠ‚çœæµé‡ï¼Œå› ä¸ºä¸å¯èƒ½æ¯ä¸€ä¸ªç”¨æˆ·ä¼šæŠŠé¡µé¢ä»ä¸Šåˆ°ä¸‹æ»šåŠ¨å®Œ å›¾ç‰‡æ‡’åŠ è½½çš„åŸç†--ä¸‰ç§æ–¹æ³•å®ç°https://blog.csdn.net/darabiuz/article/details/123151266 å®ç°åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥çœ‹å®ç° åŸç”Ÿjså¦‚æœäº‹å…ˆæ²¡æœ‰å°†å›¾ç‰‡srcå±æ€§ä¿å­˜åˆ°å…¶ä»–å±æ€§ä¸Š 12345678910document.addEventListener(&#x27;DOMContentLoaded&#x27;, function () &#123; // è·å–æ‰€æœ‰å›¾ç‰‡ä¿¡æ¯ let imgs = document.getElementsByTagName(&#x27;img&#x27;); Array.from(imgs).forEach(element =&gt; &#123; // å°†srcå±æ€§ä¿å­˜åˆ°data-srcä¸Š element.setAttribute(&#x27;data-src&#x27;, element.getAttribute(&#x27;src&#x27;)) // å°†srcå±æ€§ä¿®æ”¹ä¸ºåŠ è½½ä¸­å›¾ç‰‡ element.setAttribute(&#x27;src&#x27;, &#x27;https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2dc68fd7bffd417c9cc874b4a12612be~tplv-k3u1fbpfcp-zoom-crop-mark:1956:1956:1956:1101.image&#x27;) &#125;)&#125;) é€šè¿‡DOMContentLoadedç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå°†imgçš„srcä¿å­˜åˆ°data-srcä¸­ï¼Œå°†srcè®¾ç½®ä¸ºåŠ è½½ä¸­ä¿¡æ¯ 1234567891011121314151617181920window.onload = () =&gt; &#123; // è·å–æ‰€æœ‰å›¾ç‰‡ä¿¡æ¯ let imgs = document.getElementsByTagName(&#x27;img&#x27;) // 1. ä¸€ä¸Šæ¥ç«‹å³æ‰§è¡Œä¸€æ¬¡ let io = new IntersectionObserver(function (entires) &#123; //å›¾ç‰‡è¿›å…¥è§†å£æ—¶å°±æ‰§è¡Œå›è°ƒ entires.forEach(item =&gt; &#123; // è·å–ç›®æ ‡å…ƒç´  let oImg = item.target // å½“å›¾ç‰‡è¿›å…¥è§†å£çš„æ—¶å€™ï¼Œå°±èµ‹å€¼å›¾ç‰‡çš„çœŸå®åœ°å€ if (item.intersectionRatio &gt; 0 &amp;&amp; item.intersectionRatio &lt;= 1) &#123; oImg.setAttribute(&#x27;src&#x27;, oImg.getAttribute(&#x27;data-src&#x27;)) &#125; &#125;) &#125;) Array.from(imgs).forEach(element =&gt; &#123; io.observe(element) //ç»™æ¯ä¸€ä¸ªå›¾ç‰‡è®¾ç½®ç›‘å¬ &#125;);&#125; é€šè¿‡IntersectionObserverç›‘å¬å›¾ç‰‡æ˜¯å¦å‡ºç°åœ¨æ˜¾ç¤ºçª—å£ï¼Œå¦‚æœå‡ºç°åœ¨æ˜¾ç¤ºçª—å£å°±å°† data-src ä¸­çš„ä¿¡æ¯é‡æ–°ç»™ src vue æŒ‡ä»¤å®ç°123456789101112131415161718// lazy æŒ‡ä»¤éƒ¨åˆ†const lazy = (app) =&gt; &#123; app.directive(&#x27;lazy&#x27;, (el) =&gt; &#123; // åŠ è½½ä¸­src el.src = &quot;https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2dc68fd7bffd417c9cc874b4a12612be~tplv-k3u1fbpfcp-zoom-crop-mark:1956:1956:1956:1101.image&quot; const obServer = new IntersectionObserver(entries =&gt; &#123; if (entries[0].intersectionRatio &lt;= 0) return // å°†data-srcç»™src el.src = el.dataset.src // å–æ¶ˆç›‘å¬ obServer.unobserve(el) &#125;) // ç›‘å¬ obServer.observe(el); &#125;)&#125;export default lazy; 1234567891011121314// æŒ‡ä»¤ä½¿ç”¨&lt;template&gt; &lt;div&gt; &lt;div class=&quot;title&quot;&gt;vue lazy&lt;/div&gt; &lt;img v-lazy data-src=&quot;https://img1.baidu.com/it/u=413643897,2296924942&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=800&amp;h=500&quot; /&gt; &lt;img v-lazy data-src=&quot;https://img.tukuppt.com/photo-big/00/00/94/6152bc0ce6e5d805.jpg&quot; /&gt; &lt;/div&gt;&lt;/template&gt; å®ç°åŸç†å…¶å®é€šè¿‡ä»£ç å°±å¯ä»¥çœ‹å‡ºï¼Œå›¾ç‰‡åŠ è½½æ˜¯é€šè¿‡srcå±æ€§å»è·å–å›¾ç‰‡ä¿¡æ¯ï¼Œè€Œå›¾ç‰‡æ‡’åŠ è½½å°±æ˜¯ç°å°†srcç»™å¦å¤–ä¸€ä¸ªå±æ€§ï¼Œå½“å±å¹•æ»‘åŠ¨åˆ°å›¾ç‰‡æ—¶ï¼Œå†å°†åˆšæ‰çš„å±æ€§ä»æ–°èµ‹å›ç»™srcï¼Œimgå°±ä¼šå»æ‹‰å›¾ç‰‡ä¿¡æ¯ã€‚è¿™æ ·å°±å®Œæˆäº†å›¾ç‰‡æ‡’åŠ è½½ã€‚ æœªä½¿ç”¨å›¾ç‰‡æ‡’åŠ è½½ ä½¿ç”¨å›¾ç‰‡æ‡’åŠ è½½ å¯¹æ¯”å¯ä»¥çœ‹å‡ºæ¥å›¾ç‰‡æ‡’åŠ è½½çš„ä¼˜åŒ–è¿˜æŒºä¸é”™çš„ï¼Œå°¤å…¶æ˜¯åœ¨å›¾ç‰‡è¶Šå¤šçš„æ—¶å€™ä¼˜åŒ–å°±è¶Šæ˜æ˜¾ æ„Ÿè°¢è§‚çœ‹ï¼Œå¦‚æœå¯¹ä½ æœ‰å¸®åŠ©å¯ä»¥å…³æ³¨æœ¬ç«™ï¼Œé¾™å°äº¦åœ¨æ­¤è°¢è¿‡äº†","tags":["js","vue","html"],"categories":["vue"]},{"title":"flinkéƒ¨ç½²æ¨¡å¼","path":"/2023/02/19/flinkéƒ¨ç½²æ¨¡å¼/","content":"Filnkéƒ¨ç½²æ¨¡å¼ 1.standaloneæ¨¡å¼1234567891011121314151617181920212223242526# standalone æ¨¡å¼çš„éƒ¨ç½²åªéœ€è¦ä¿®æ”¹ä¸¤ä¸ªé…ç½®æ–‡ä»¶ - $FLINK_HOME/conf# 1.flink-conf.yaml# jobmanager.rpc.address æŒ‡å®šjobmanagerçš„address(ä¸»èŠ‚ç‚¹ï¼Œipåœ°å€æˆ–è€…ä¸»æœºåçš†å¯)jobmanager.rpc.address: master# jobmanager.rpc.port æŒ‡å®šjobmanagerçš„é€šä¿¡ç«¯å£(ä¸€èˆ¬ä¸ºé»˜è®¤)jobmanager.rpc.port: 6123# jobmanager.memory.process.size æŒ‡å®šjobmanagerçš„å†…å­˜å¤§å°jobmanager.memory.process.size: 1600m# taskmanager.memory.process.size æŒ‡å®štaskmanagerçš„å†…å­˜å¤§å°taskmanager.memory.process.size: 1728m# taskmanager.numberOfTaskSlots æŒ‡å®štaskmanagerçš„æ’æ§½æ•°é‡taskmanager.numberOfTaskSlots: 2# 2.workersæ–‡ä»¶# workers æ–‡ä»¶ç”¨äºæŒ‡å®štaskmanagerçš„èŠ‚ç‚¹ä¸»æœº(ipåœ°å€æˆ–è€…ä¸»æœºåçš†å¯)worker1worker2# 3.å¯åŠ¨standaloneæ¨¡å¼$FLINK_HOME/bin/start-cluster.sh# 4.æ£€æŸ¥æ˜¯å¦è¿è¡ŒæˆåŠŸ - jpsæŸ¥çœ‹è¿›ç¨‹# jobmanagerèŠ‚ç‚¹è¿›ç¨‹ä¸ºStandaloneSessionClusterEntrypoint # jobmanagerçš„å®ˆæŠ¤è¿›ç¨‹# taskmanagerèŠ‚ç‚¹è¿›ç¨‹ä¸ºTaskManagerRunner # taskmanagerçš„å®ˆæŠ¤è¿›ç¨‹ æœ€åå¯ä»¥æŸ¥çœ‹ä¸»èŠ‚ç‚¹çš„8081ç«¯å£æŸ¥çœ‹ flink webUI","tags":["linux","flink"],"categories":["flink"]},{"title":"flinkæœ¬åœ°è°ƒè¯•é…ç½®","path":"/2023/02/12/flinkæœ¬åœ°è°ƒè¯•é…ç½®/","content":"Flinkæœ¬åœ°è°ƒè¯•é…ç½® 1.æœ¬åœ°è°ƒè¯•é…ç½®webUI1234567&lt;!-- pomæ–‡ä»¶æ·»åŠ webUIä¾èµ– --&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.flink&lt;/groupId&gt; &lt;artifactId&gt;flink-runtime-web_$&#123;scala.binary.version&#125;&lt;/artifactId&gt; &lt;version&gt;$&#123;flink.version&#125;&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt; 12345// åˆ›å»ºflinkä¸Šä¸‹æ–‡çš„æ—¶å€™éœ€è¦é€‰æ‹©åˆ›å»ºå¸¦æœ‰webUIçš„ä¸Šä¸‹æ–‡å¯¹è±¡Configuration configuration = new Configuration();// è®¾ç½®webUIçš„ç«¯å£å·ï¼Œé»˜è®¤ä¸º8081ç«¯å£configuration.setInteger(&quot;rest.port&quot;, 9999);StreamExecutionEnvironment env = StreamExecutionEnvironment.createLocalEnvironmentWithWebUI(configuration);","tags":["flink","java"],"categories":["flink"]},{"title":"flinkå¸¸ç”¨ä¾èµ–åŒ…","path":"/2023/01/27/flinkå¸¸ç”¨ä¾èµ–åŒ…/","content":"flinkå¸¸ç”¨ä¾èµ–åŒ… provided è¡¨ç¤ºä¸ä½¿ç”¨æ­¤ä¾èµ–ï¼Œå¦‚æœè¢«æ³¨é‡Šäº†è¡¨ç¤ºä½¿ç”¨æ­¤ä¾èµ–ï¼Œæ²¡æœ‰è¢«æ³¨é‡Šè¡¨ç¤ºä¸ä½¿ç”¨æ­¤ä¾èµ–ã€‚æœ¬åœ°è°ƒè¯•çš„æ—¶å€™é€‰æ‹©æ³¨é‡Šï¼Œæ‰“åŒ…åˆ°æœåŠ¡å™¨ä¸Šè¿è¡Œæ—¶å¦‚æœæœåŠ¡å™¨ä¸Šæœ‰flinkçš„ä¾èµ–å¯ä»¥é€‰æ‹©ä¸æ³¨é‡Šï¼Œä¸æŠŠä¾èµ–æ‰“å…¥jaråŒ…ä¸­ã€‚ 1. flink-java ä¾èµ–åŒ…(javaä»£ç å†™kafka)123456&lt;dependency&gt; &lt;groupId&gt;org.apache.flink&lt;/groupId&gt; &lt;artifactId&gt;flink-java&lt;/artifactId&gt; &lt;version&gt;$&#123;flink.version&#125;&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt; 2.flink steram ä¾èµ–åŒ…(javaç‰ˆæœ¬)123456&lt;dependency&gt; &lt;groupId&gt;org.apache.flink&lt;/groupId&gt; &lt;artifactId&gt;flink-streaming-java_$&#123;scala.binary.version&#125;&lt;/artifactId&gt; &lt;version&gt;$&#123;flink.version&#125;&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt; 3.flink steram ä¾èµ–åŒ…(scalaç‰ˆæœ¬)123456&lt;dependency&gt; &lt;groupId&gt;org.apache.flink&lt;/groupId&gt; &lt;artifactId&gt;flink-streaming-scala_$&#123;scala.binary.version&#125;&lt;/artifactId&gt; &lt;version&gt;$&#123;flink.version&#125;&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt; 4.flink webUI ä¾èµ–åŒ…(flinkæœ¬åœ°æµ‹è¯•æ—¶ä½¿ç”¨)123456&lt;dependency&gt; &lt;groupId&gt;org.apache.flink&lt;/groupId&gt; &lt;artifactId&gt;flink-runtime-web_$&#123;scala.binary.version&#125;&lt;/artifactId&gt; &lt;version&gt;$&#123;flink.version&#125;&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt; 5.flink è¿æ¥ä¾èµ–åŒ…123456&lt;dependency&gt; &lt;groupId&gt;org.apache.flink&lt;/groupId&gt; &lt;artifactId&gt;flink-clients_$&#123;scala.binary.version&#125;&lt;/artifactId&gt; &lt;version&gt;$&#123;flink.version&#125;&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt; 6.flink-kafka è¿æ¥ä¾èµ–åŒ…1234567&lt;!-- _2.12 è¡¨ç¤ºkafkaçš„ç‰ˆæœ¬ --&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.flink&lt;/groupId&gt; &lt;artifactId&gt;flink-connector-kafka_2.12&lt;/artifactId&gt; &lt;version&gt;$&#123;flink.version&#125;&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt;","tags":["flink","java"],"categories":["flink"]},{"title":"flinkåŸºç¡€","path":"/2023/01/27/flinkåŸºç¡€/","content":"FlinkåŸºç¡€ flink è¿è¡Œæ—¶çš„ç»„ä»¶ JobManager ( ä½œä¸šç®¡ç†å™¨ ) TaskManager ( ä»»åŠ¡ç®¡ç†å™¨ ) ResourceManager ( èµ„æºç®¡ç†å™¨ ) Dispacher ( åˆ†å‘å™¨ ) flink standalone æ¨¡å¼è¿è¡Œæµç¨‹ flink Per Job Cluster æ¨¡å¼è¿è¡Œæµç¨‹ flinkæŠ½è±¡æ•°æ®é›† DataSet -&gt; æ‰¹å¤„ç†æŠ½è±¡æ•°æ®é›† DataStream -&gt; æµå¼æŠ½è±¡æ•°æ®é›† â€‹source è´Ÿè´£æ•°æ®è¯»å–â€‹transformation è´Ÿè´£å¯¹æ•°æ®è¿›è¡Œè½¬æ¢æ“ä½œ ( ç±»ä¼¼äºsparkä¸­çš„è½¬åŒ–ç®—å­ )â€‹sink è´Ÿè´£å¯¹æœ€åçš„ç»“æœè¿›è¡Œ source sourceåˆ†ä¸ºå•å¹¶è¡Œçš„sourceå’Œå¤šå¹¶è¡Œçš„source å•å¹¶è¡Œçš„source: é€šè¿‡å®ç° sourceFunction æ¥å£ socketTextStream fromCollection fromElements å¤šå¹¶è¡Œçš„source é€šè¿‡å®ç° ParallelSourceFunction æ¥å£ fromCollection","tags":["flink"],"categories":["flink"]},{"title":"hive-UDF","path":"/2021/12/30/hive-UDF/","content":"Hive-UDFè‡ªå®šä¹‰å‡½æ•° mavené¡¹ç›®å¯¼åŒ…12345678910111213141516171819&lt;properties&gt; &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt; &lt;hadoop.version&gt;2.6.0&lt;/hadoop.version&gt; &lt;hive.version&gt;1.1.0&lt;/hive.version&gt;&lt;/properties&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt; &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt; &lt;version&gt;$&#123;hadoop.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.hive&lt;/groupId&gt; &lt;artifactId&gt;hive-exec&lt;/artifactId&gt; &lt;version&gt;$&#123;hive.version&#125;&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt; æ–°å»ºHive-UDFç±»123456789101112131415161718192021222324252627282930313233// Hive UDF éœ€è¦å®ç° UDF// UDF =&gt; import org.apache.hadoop.hive.ql.exec.UDF;import org.apache.hadoop.hive.ql.exec.UDF;import org.apache.hadoop.io.Text;public class AvgCost extends UDF &#123; // UDF å¿…é¡»æœ‰ä¸ª evaluate æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æœ‰å¤šä¸ªå®ç°é‡è½½ // evaluate è¿”å›çš„æ•°æ®ç±»å‹å¿…é¡»æ˜¯ java åŸºç¡€ç±»å‹æˆ–Hadoop Writerbel æ•°æ®ç±»å‹ // å»ºè®®Hadoop Writerbel æ•°æ®ç±»å‹, å› ä¸ºåº•å±‚æ˜¯MR // è¿”å›çš„æ•°æ®ç±»å‹å¿…é¡»æ˜¯ Text public Text evaluate (Text input)&#123; Text output = new Text(); if (!input.toString().isEmpty())&#123; output.set(&quot;None&quot;); &#125; String[] salary = input.toString().split(&quot;-&quot;); if (salary.length == 1)&#123; output.set(salary[0] + &quot; - &quot; + salary[0]); &#125; if (salary.length == 2)&#123; int salary1 = Integer.parseInt(salary[0]); int salary2 = Integer.parseInt(salary[1]); Double avgSalary = (salary1+salary2)*1.0/2; if (salary1 &gt; salary2)&#123; output.set(salary1 + &quot; - &quot; + salary2 + &quot; - &quot; + avgSalary); &#125;else&#123; output.set(salary2 + &quot; - &quot; + salary1 + &quot; - &quot; + avgSalary); &#125; &#125; return output; &#125; æ‰“jaråŒ…ä¸Šä¼ åˆ°æœåŠ¡å™¨ ç•¥ æ·»åŠ jaråŒ…åˆ°hiveä¸­ï¼Œå¹¶å¯¼å…¥å‡½æ•°123456789101112131. å¯¼å…¥jaråŒ…hive&gt; add jar jaråŒ…è·¯å¾„2. å¯¼å…¥å‡½æ•° -è¯­æ³•: crate [temporary] function [dbName]functionName as &#x27;packageAddress&#x27; -a å¯¼å…¥æˆä¸´æ—¶å‡½æ•°hive&gt; create temporary function avgcost as &#x27;com.org.udf.AvgCost.AvgCost&#x27;; -b å¯¼å…¥æˆæ°¸ä¹…å‡½æ•°hive&gt; create function dbName.avgcost as &#x27;com.org.udf.AvgCost.AvgCost&#x27;;// å¯¼å…¥æˆæ°¸ä¹…å‡½æ•°å¯ä»¥å†³å®šä½œç”¨åŸŸ[dbName] æ˜¯å“ªä¸ªæ•°æ®åº“ï¼Œå‡½æ•°å°±åªèƒ½åœ¨å“ªä¸ªæ•°æ®åº“ä¸­è°ƒç”¨ï¼Œä¸´æ—¶å‡½æ•°æ— æ³•æŒ‡å®š3.ä½¿ç”¨å‡½æ•° =&gt; ç›´æ¥ç”¨å‡½æ•°åå°±å¯ä»¥è°ƒç”¨hive&gt; select avgcost(salary) as salary from rawData;","tags":["java","hive"],"categories":["hive"]},{"title":"hiveçª—å£å‡½æ•°","path":"/2021/12/24/hiveçª—å£å‡½æ•°/","content":"Hiveçª—å£å‡½æ•° æµ‹è¯•æ•°æ®é›† name orderdate cost jack 2017-01-01 10 tony 2017-01-02 15 jack 2017-02-03 23 tony 2017-01-04 29 jack 2017-01-05 46 jack 2017-04-06 42 tony 2017-01-07 50 jack 2017-01-08 55 mart 2017-04-08 62 mart 2017-04-09 68 neil 2017-05-10 12 mart 2017-04-11 75 neil 2017-06-12 80 mart 2017-04-13 94 é¢˜ç›®æŸ¥è¯¢åœ¨2017å¹´4æœˆä»½è´­ä¹°è¿‡çš„é¡¾å®¢åŠæ€»äººæ•°1select name,count(*) over() from test1 where substring(orderdate, 1, 7) = &#x27;2017-04&#x27; group by name;æŸ¥è¯¢é¡¾å®¢çš„è´­ä¹°æ˜ç»†åŠè´­ä¹°æ€»é¢1select *,sum(cost) over() from test1;ç´¯è®¡è®¡ç®—æ±‚æ¯ä¸ªäººæ¶ˆè´¹é‡‘é¢åŠè´­ä¹°æ€»é¢ï¼ŒæŒ‰ç…§æ—¥æœŸè¿›è¡Œç´¯åŠ 1select orderdate,sum(cost) over(order by orderdate) from test1;æ±‚æ¯ä¸ªäººæ¶ˆè´¹é‡‘é¢åŠè´­ä¹°æ€»é¢ï¼ŒæŒ‰äººæŒ‰æ—¶é—´ç´¯åŠ 1select name, orderdate,cost,sum(cost) over(distribute by name) from test1;æŸ¥è¯¢é¡¾å®¢ä¸Šæ¬¡çš„è´­ä¹°æ—¶é—´1select name,orderdate,cost,lag(orderdate, 1) over(partition by name order by orderdate) from test1; whyoveræ¡ˆä¾‹over()å‡½æ•°over() å¿…é¡»å†™åœ¨èšåˆå‡½æ•°åé¢ï¼Œorder() &#x3D;&gt; å¼€çª—è¿™ä¸ªçª—å£å°±æ˜¯ä¸€éƒ¨åˆ†æ•°æ®é›†ï¼Œ æ•°æ®é›†çš„ä½œç”¨èŒƒå›´æ˜¯ å‰é¢çš„èšåˆå‡½æ•°ï¼ˆåªæœ‰å‰é¢çš„èšåˆå‡½æ•°èƒ½å¤Ÿä½¿ç”¨åˆ°çª—å£é‡Œé¢çš„æ•°æ®ï¼‰over() é‡Œé¢å¯ä»¥ä¼ å‚ï¼Œå¦‚æœä¸ä¼ å‚å°±æ˜¯å¯¹æ•´ä¸ªæ•°æ®é›†è¿›è¡Œå¼€çª—ï¼ˆå°†æ•´ä¸ªæ•°æ®é›†æ”¾åˆ°ä¸€ä¸ªçª—å£ä¸­ï¼‰over() èšåˆå‡½æ•°å‰ï¼Œæœ‰å¤šå°‘æ¡æ•°æ®å°±å¼€å‡ æ¬¡çª—å‚æ•°è¯´æ˜123456789over() ä¸­çš„å‚æ•°è¯´æ˜\t=&gt; current row : å½“å‰è¡Œ\t=&gt; n preceding : å¾€å‰nè¡Œ\t=&gt; n following : å¾€ånè¡Œ\t=&gt; unbounded : èµ·ç‚¹\t=&gt; following : ç»ˆç‚¹over() å¤–çš„å‚æ•°è¯´æ˜\t=&gt; LAG(col, n) : å¾€å‰ç¬¬nè¡Œ\t=&gt; LEAD(col, n) : å¾€åç¬¬nè¡Œ123456789101112131415161718192021222324252627select name,count(*) over() from test1 where substring(orderdate, 1, 7) = &#x27;2017-04&#x27; group by name;// ä¼šå¼€ä¸¤æ¬¡çª—ï¼Œgroup byè¿›è¡Œäº†å»é‡&gt; ç»“æœmart\t2jack\t2select name,count(*) over() from test1 where substring(orderdate, 1, 7) = &#x27;2017-04&#x27;;// æœ‰å‡ ä¸ªname å°±ä¼šå¼€å‡ ä¸ªçª—(5ä¸ª)&gt; ç»“æœmart\t5mart\t5mart\t5mart\t5jack\t5select orderdate,sum(cost) over(order by orderdate) from test1;// over() ä¸­é™åˆ¶äº†çª—å£çš„å¤§å°ï¼Œæ­¤æ—¶çª—å£çš„å¤§å°æ˜¯æ ¹æ® orderdateæ¥åˆ¤æ–­ï¼Œåˆå› ä¸º orderdate è¿›è¡Œäº†order by ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡å¼€çª—æ˜¯æœ€å°çš„orderdate,é€æ­¥å˜å¤§ï¼Œsum() ä¸­æ‹¿åˆ°çš„å€¼ä¹Ÿé€æ¸å˜å¤š(çª—å£é€æ¸å˜å¤§)ï¼Œç›´åˆ°æœ€åä¸€ä¸ªorderdateï¼Œçª—å£æ•°æ®é›†å°±æ˜¯æ•´ä¸ªæ•°æ®é›†ã€‚select name, orderdate,cost,sum(cost) over(distribute by name) from test1;// distribute =&gt; ä½œç”¨å’Œgroup by ç±»ä¼¼ï¼Œå¯ä»¥èµ·åˆ°åˆ†ç»„å»é‡çš„ä½œç”¨ï¼Œover() ä¸­ä¸èƒ½ä½¿ç”¨ group byselect name, orderdate,cost,sum(cost) over(distribute by name sort by orderdate) from test1;select name, orderdate,cost,sum(cost) over(prtition by name order by orderdate) from test1;// sort by å’Œ order by æ’åº order by é’ˆå¯¹çš„æ˜¯æ•´ä½“ï¼Œsort byé’ˆå¯¹çš„æ˜¯åˆ†ç»„(åˆ†åŒº)å†…çš„æ•°æ® distribute by å’Œ sort by ä¸€èˆ¬æ˜¯è¿ç”¨ï¼Œ partition by å’Œ oreder by è¿ç”¨select name,orderdate,cost,lag(orderdate, 1) over(partition by name order by orderdate) from test1;// lag(col, n) æ˜¯æ‰¾åˆ°colç±»çš„å‰é¢ç¬¬å‡ è¡Œï¼Œé’ˆå¯¹ä¸Šé¢çš„sqlè¯­å¥ï¼Œæ¯æ¬¡æ‰¾åˆ°çš„éƒ½æ˜¯å½“å‰è¡Œçš„å‰é¢ä¸€è¡Œ lag() ä¼šå—åˆ°åˆ†åŒºçš„é˜»æŒ¡ï¼Œå¦‚æœåŒæ—¶ç”¨åˆ°LAG() å’Œ LEAD() éœ€è¦åœ¨æ¯ä¸ªåé¢éƒ½è·Ÿä¸Š over() ï¼Œå› ä¸ºover åªå¯¹å®ƒå‰é¢çš„ä¸€ä¸ªèšåˆå‡½æ•°æä¾›å†…å®¹","tags":["hive"],"categories":["hive"]},{"title":"hiveå¸¸ç”¨å‘½ä»¤","path":"/2021/12/19/hiveå¸¸ç”¨å‘½ä»¤/","content":"Hiveå¸¸ç”¨å‘½ä»¤ å¸¸ç”¨å‘½ä»¤12345678910111213141516171819202122232425262728293031323334353637383940414243444546- åˆ›å»ºæ•°æ®åº“create database name;- åˆ›å»ºæ•°æ®åº“è¡¨( éœ€è¦å…ˆè¿›å…¥ä¸€ä¸ªæ•°æ®åº“ use name )create table name (id Int, name String) row format delimited FIELDS TERMINATED BY &#x27;åˆ†éš”ç¬¦&#x27;; - å¯¼å…¥æ•°æ® ( åŠ ä¸Š overwrite å°±ä¼šå°†è¡¨æ¸…ç©ºåå€’å…¥ï¼Œä¸åŠ ä¸Šå°±ç›´æ¥å¯¼å…¥ )\t1. ä»æœ¬åœ°å¯¼å…¥\tload data local inpath &#x27;æ•°æ®åœ°å€&#x27; overwrite into table tableName;\t2. hdfsä¸Šå¯¼å…¥\tload data inpath &#x27;æ•°æ®åœ°å€&#x27; overwrite into tableName;\t- æŸ¥è¯¢\tgroup by åˆ†ç»„\torder by æ’åº (descå€’åº)\tgroup by ä¹‹å where è¦ä½¿ç”¨ having hive ä¸­çš„ä¸ç­‰äºä¸º &lt;&gt;- å°†æŸ¥è¯¢çš„æ•°æ®ä¿å­˜åˆ°å…¶ä»–ä½ç½® ( åŠ ä¸Š overwrite å°±ä¼šå°†è¡¨æ¸…ç©ºåå€’å…¥ï¼Œä¸åŠ ä¸Šå°±ç›´æ¥å¯¼å…¥ )\t1. ä¿å­˜åˆ°å·²å­˜åœ¨çš„è¡¨ä¸­ insert overwrite table ä¿å­˜æ•°æ®çš„è¡¨ select * form æŸ¥è¯¢æ•°æ®çš„è¡¨\t2. ä¿å­˜åˆ°æœªå­˜åœ¨çš„è¡¨ä¸­ create table æ–°è¡¨å(å­—æ®µåï¼Œç±»å‹) as select * from æŸ¥è¯¢æ•°æ®çš„è¡¨\t3. ä¿å­˜åˆ°hdfsä¸Š - hive ä¸­å­—ç¬¦ä¸²å¤„ç† åšå®¢åœ°å€( https://my.oschina.net/u/2441766/blog/1648467 ) length(å­—æ®µå) è¿”å›å­—æ®µçš„é•¿åº¦ reverse(å­—æ®µå) è¿”å›åè½¬ä¹‹åçš„å­—æ®µ concat(å­—æ®µAï¼Œå­—æ®µB) è¿”å›å­—æ®µA+å­—æ®µBçš„å­—æ®µ concat_ws(&quot;åˆ†éš”å·&quot;ï¼Œå­—æ®µAï¼Œå­—æ®µB) è¿”å›å­—æ®µA+åˆ†éš”å·+å­—æ®µB - hive è¿æ¥è¡¨ -join 1.left join 2.right join 3. - å»ºè¡¨ 1. å»ºç«‹æ™®é€šè¡¨ create table tableName() row format delimited fields termanited by &#x27;,&#x27;; 2. å»ºç«‹åˆ†åŒºè¡¨ create table tableName() pratitionted by (åˆ†åŒºå­—æ®µ å­—æ®µç±»å‹) row format delimited fields termanited by &#x27;,&#x27;; - å»ºç«‹é™æ€åˆ†åŒº alter table tableName add partition(åˆ†åŒºå­—æ®µ=&quot;&quot;); - åˆ é™¤åˆ†åŒº alter table tableName drop partition(åˆ†åŒºå­—æ®µ=&quot;&quot;); - åˆ é™¤è¡¨ä¹‹å‰è¦å°†æ‰€æœ‰çš„åˆ†åŒºéƒ½åˆ é™¤ å¦‚æœä½ çš„åˆ†åŒºä¸­æœ‰ä¸­æ–‡å­—ç¬¦123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263// ä¿®æ”¹Mysqlä¸­Hiveè¡¨çš„ç¼–ç æ ¼å¼alter database hive_meta default character set utf8;alter table BUCKETING_COLS default character set utf8;alter table CDS default character set utf8;alter table COLUMNS_V2 default character set utf8;alter table DATABASE_PARAMS default character set utf8;alter table DBS default character set utf8;alter table FUNCS default character set utf8;alter table FUNC_RU default character set utf8;alter table GLOBAL_PRIVS default character set utf8;alter table PARTITIONS default character set utf8;alter table PARTITION_KEYS default character set utf8;alter table PARTITION_KEY_VALS default character set utf8;alter table PARTITION_PARAMS default character set utf8;alter table ROLES default character set utf8;alter table SDS default character set utf8;alter table SD_PARAMS default character set utf8;alter table SEQUENCE_TABLE default character set utf8;alter table SERDES default character set utf8;alter table SERDE_PARAMS default character set utf8;alter table SKEWED_COL_NAMES default character set utf8;alter table SKEWED_COL_VALUE_LOC_MAP default character set utf8;alter table SKEWED_STRING_LIST default character set utf8;alter table SKEWED_STRING_LIST_VALUES default character set utf8;alter table SKEWED_VALUES default character set utf8;alter table SORT_COLS default character set utf8;alter table TABLE_PARAMS default character set utf8;alter table TAB_COL_STATS default character set utf8;alter table TBLS default character set utf8;alter table VERSION default character set utf8;alter table BUCKETING_COLS convert to character set utf8;alter table CDS convert to character set utf8;alter table COLUMNS_V2 convert to character set utf8;alter table DATABASE_PARAMS convert to character set utf8;alter table DBS convert to character set utf8;alter table FUNCS convert to character set utf8;alter table FUNC_RU convert to character set utf8;alter table GLOBAL_PRIVS convert to character set utf8;alter table PARTITIONS convert to character set utf8;alter table PARTITION_KEYS convert to character set utf8;alter table PARTITION_KEY_VALS convert to character set utf8;alter table PARTITION_PARAMS convert to character set utf8;alter table ROLES convert to character set utf8;alter table SDS convert to character set utf8;alter table SD_PARAMS convert to character set utf8;alter table SEQUENCE_TABLE convert to character set utf8;alter table SERDES convert to character set utf8;alter table SERDE_PARAMS convert to character set utf8;alter table SKEWED_COL_NAMES convert to character set utf8;alter table SKEWED_COL_VALUE_LOC_MAP convert to character set utf8;alter table SKEWED_STRING_LIST convert to character set utf8;alter table SKEWED_STRING_LIST_VALUES convert to character set utf8;alter table SKEWED_VALUES convert to character set utf8;alter table SORT_COLS convert to character set utf8;alter table TABLE_PARAMS convert to character set utf8;alter table TAB_COL_STATS convert to character set utf8;alter table TBLS convert to character set utf8;alter table VERSION convert to character set utf8;SET character_set_client = utf8 ;SET character_set_database = utf8 ;SET character_set_results = utf8 ;SET character_set_server = utf8 ;SET NAMES &#x27;utf8&#x27;;","tags":["hive"],"categories":["hive"]},{"title":"hiveç¯å¢ƒæ­å»º","path":"/2021/11/12/hiveç¯å¢ƒæ­å»º/","content":"Hiveç¯å¢ƒæ­å»º ( é…ç½®Hiveä¹‹å‰éœ€è¦æ­å»ºå¥½mysq ) 123# ç¯å¢ƒå˜é‡export $HIVE_HOME=/opt/bigdata/hiveexport $PATH=$PATH:$HIVE_HOME/bin 123456789101112131415161718192021222324252627# hive-site.xml&lt;property&gt;\t&lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt; &lt;value&gt;jdbc:mysql://localhost:3306/hive?createDatabaseIfnotExist=true&amp;amp;useSSL=false&lt;/value&gt;&lt;/property&gt;&lt;property&gt;\t&lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt; &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt;&lt;/property&gt;&lt;property&gt;\t&lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt; &lt;value&gt;root&lt;/value&gt;&lt;/property&gt;&lt;property&gt;\t&lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt; &lt;value&gt;hadoop&lt;/value&gt;&lt;/property&gt;# å¼€å¯hive mateStoreé…ç½®&lt;peoperty&gt;\t&lt;name&gt;hive.matestore.local&lt;/name&gt; &lt;value&gt;false&lt;/value&gt;&lt;/peoperty&gt;&lt;peoperty&gt;\t&lt;name&gt;hive.matestore.uris&lt;/name&gt; &lt;value&gt;thrift://hadoop01:9083&lt;/value&gt;&lt;/peoperty&gt; 123# hive-env.shexport HADOOP_HOME=/opt/bigdata/hadoopexport HIVE_CONF_HOME=/opt/bigdata/hive/conf è®°å¾—å°†mysql-connector-javaçš„é©±åŠ¨ç§»åŠ¨åˆ° $HIVE_HOME&#x2F;libæœ€ååˆå§‹åŒ– hive :\tschematool -dbType mysql -initSchema å¯åŠ¨Hiveéœ€è¦å…ˆå¯åŠ¨hadoopé›†ç¾¤ é€‰é…12345678910111213141516# Hive WebUI -- hive-site.xmlä¸­é…ç½®&lt;property&gt; &lt;name&gt;hive.server2.webui.host&lt;/name&gt; &lt;value&gt;localhost&lt;/value&gt;&lt;/property&gt;&lt;property&gt; &lt;name&gt;hive.server2.webui.port&lt;/name&gt; &lt;value&gt;10002&lt;/value&gt;&lt;/property&gt;# æŸ¥è¯¢æ—¶æ˜¾ç¤º æ ‡é¢˜å†…å®¹&lt;property&gt; &lt;name&gt;hive.cli.print.header&lt;/name&gt; &lt;value&gt;true&lt;/value&gt;&lt;/property&gt; å¯èƒ½å‡ºç°çš„é—®é¢˜ org.apache.hadoop.hive.metastore.HiveMetaException: Failed to get schema version. å‡ºç°çš„åŸå› ï¼š hive-site.xml ä¸­çš„è´¦å·å’Œå¯†ç é”™è¯¯ mysql è´¦å·æ²¡æœ‰å¼€å¯è¿œç¨‹è¿æ¥ mysqlæ—¶åŒºå’Œç³»ç»Ÿè‡ªå¸¦çš„æ—¶åŒºä¸åŒ java.lang.IncompatibleClassChangeError: Found class jline.Terminal, but interface was expected å‡ºç°çš„åŸå› ï¼š hadoopä¸‹çš„jline jaråŒ…å’Œhive ä¸‹çš„ jline jaråŒ…ç‰ˆæœ¬å†²çª( ä¸åŒ ) è§£å†³æ–¹æ³•ï¼š å°†hive lib ä¸‹çš„ jlineåŒ…å¤åˆ¶è¦†ç›–æ‰hadoop - share - hadoop - yarn - lib ä¸‹çš„ jline åŒ…","tags":["linux","hive"],"categories":["hive"]},{"path":"/about/index.html","content":"ä¹Ÿè®¸æˆ‘ä»¬æ— æ³•æ”¹å˜è¿™ä¸ªä¸–ç•Œï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥æ”¹å˜è‡ªå·±çš„æ€æƒ³ã€‚æœ¬ç«™æ˜¯ @longxiaoyi çš„ä¸ªäººç«™ã€‚å…³äºå‹é“¾æœ¬ç«™ å…³äºæˆ‘çš„ç”Ÿå‘½çš„å‰äºŒåäºŒå¹´æˆ‘ä¹‹å‰çš„äººç”Ÿç”¨ç¢Œç¢Œæ— ä¸ºæ¥å½¢å®¹æœ€ä¸ä¸ºè¿‡æ²¡æœ‰ç‰¹åˆ«å–œæ¬¢çš„äº‹ã€æ²¡æœ‰ç‰¹åˆ«å–œæ¬¢çš„é£Ÿç‰©ã€‚æ„Ÿè§‰ä¸€åˆ‡éƒ½èƒ½å‡‘åˆç€è¿‡ï¼Œä½†æ—¶è€Œä¼šæœ‰ç‚¹å¼ºè¿«ç—‡ã€‚ä¸€ç›´å’Œæ‡’ä½œæ–—äº‰ï¼Œä½†å¥½åƒä¸€ç›´è´¥åœ¨å®ƒæ‰‹é‡Œã€‚ä¸€ç›´è¯•å›¾æ”¹å˜ç”Ÿæ´»ï¼Œå´å±¡æ¬¡è¢«ç”Ÿæ´»æŒ‰åœ¨åœ°ä¸Šæ•™æˆ‘åšäº‹ã€‚ä½†æ˜¯æˆ‘è¿˜æ˜¯ä¸€ä¸ªä¹è§‚ã€ç§¯æçš„ã€ä½†åˆæ— è¶£çš„ã€å¹³å¹³æ·¡æ·¡ã€æ™®æ™®é€šé€šçš„åå…«çº¿ç¨‹åºå‘˜ã€‚è¯´èµ·å»ºç«‹è¿™ä¸ªblogçš„åŸå›  å…¶ä¸€æ˜¯å¸Œæœ›å‘Šåˆ«ä»å‰çš„è‡ªå·± å…¶äºŒæ˜¯å¸Œæœ›è¿™ä¸ªblogèƒ½å¤Ÿè®°å½•è‡ªå·±ä»¥åçš„ç”Ÿæ´»ï¼Œè®°å½•è‡ªå·±çš„æˆé•¿ å…¶ä¸‰æ˜¯å¸Œæœ›ç­‰è‡ªå·±å¹´é¾„ç¨å¾®å¤§ç‚¹çš„æ—¶å€™æœ‰ä¸ªæ€€å¿µä»å‰çš„åœ°å„¿ æœ¬ç«™æ²¡æœ‰ä»»ä½•æ¨å¹¿å’Œæ‰“èµé“¾æ¥ï¼Œå¦‚æœæ‚¨è§‰å¾—å“ªä¸ªä½œå“ä¸é”™ï¼Œæ¬¢è¿å»å¯¹åº”çš„ä»“åº“ç‚¹ä¸ªèµï¼Œæˆ–è€…åœ¨å¯¹åº”çš„æ–‡ç« ä¸‹é¢ç•™è¨€äº’åŠ¨ä¸€ä¸‹ã€‚"},{"path":"/fonts/font.css","content":"@font-face { font-family: 'LXGW WenKai'; src: url('./LXGWWenKaiScreen100.woff'); font-weight: normal; font-style: normal; } @font-face { font-family: 'LXGW WenKai'; src: url('./LXGWWenKaiScreen200.woff'); font-weight: normal; font-style: normal; } @font-face { font-family: 'LXGW WenKai'; src: url('./LXGWWenKaiScreen201.woff'); font-weight: normal; font-style: normal; } @font-face { font-family: 'LXGW WenKai'; src: url('./LXGWWenKaiScreen300.woff'); font-weight: normal; font-style: normal; }"},{"path":"/friend/index.html","content":"ä¹Ÿè®¸æˆ‘ä»¬æ— æ³•æ”¹å˜è¿™ä¸ªä¸–ç•Œï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥æ”¹å˜è‡ªå·±çš„æ€æƒ³ã€‚æœ¬ç«™æ˜¯ @longxiaoyi çš„ä¸ªäººç«™ã€‚å…³äºå‹é“¾æœ¬ç«™"},{"path":"/timeline/index.html","content":"ä¹Ÿè®¸æˆ‘ä»¬æ— æ³•æ”¹å˜è¿™ä¸ªä¸–ç•Œï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥æ”¹å˜è‡ªå·±çš„æ€æƒ³ã€‚æœ¬ç«™æ˜¯ @longxiaoyi çš„ä¸ªäººç«™ã€‚å…³äºå‹é“¾æœ¬ç«™ ç‰¹åˆ«æ„Ÿè°¢xaoxuu æä¾›çš„ Stellar ä¸»é¢˜ï¼Œè®©æˆ‘èƒ½é¡ºåˆ©æ­å‡ºæœ¬ç«™ç‚¹ï¼Œç”±è¡·æ„Ÿè°¢ã€‚ å…³äºæœ¬ç«™2023 å¹´ 03 æœˆ 25 æ—¥åŸŸåå®¡æ ¸æˆåŠŸ2023 å¹´ 03 æœˆ 18 æ—¥æ·»åŠ è¯„è®ºåŠŸèƒ½2023 å¹´ 02 æœˆ 28 æ—¥æ•°æ®è¿ç§»å®Œæˆï¼Œæ³¨å†Œæ–°åŸŸåï¼Œç­‰å¾…åŸŸåå®¡æ ¸ä¸­â€¦â€¦2023 å¹´ 02 æœˆ 08 æ—¥åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œå¼€å§‹å»ºç«‹ç«™ç‚¹"}]